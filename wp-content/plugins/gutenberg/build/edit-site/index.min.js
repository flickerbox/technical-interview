!function(){var e={4184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===l)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},3729:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(){return function e(t,n,r){var a,l,o=window,s="application/octet-stream",i=r||s,c=t,u=!n&&!r&&c,m=document.createElement("a"),d=function(e){return String(e)},p=o.Blob||o.MozBlob||o.WebKitBlob||d,_=n||"download";if(p=p.call?p.bind(o):Blob,"true"===String(this)&&(i=(c=[c,i])[0],c=c[1]),u&&u.length<2048&&(_=u.split("/").pop().split("?")[0],m.href=u,-1!==m.href.indexOf(u))){var E=new XMLHttpRequest;return E.open("GET",u,!0),E.responseType="blob",E.onload=function(t){e(t.target.response,_,s)},setTimeout((function(){E.send()}),0),E}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&p!==d))return navigator.msSaveBlob?navigator.msSaveBlob(v(c),_):y(c);i=(c=v(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var g=0,f=new Uint8Array(c.length),h=f.length;g<h;++g)f[g]=c.charCodeAt(g);c=new p([f],{type:i})}function v(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),a=r.length,l=0,o=new Uint8Array(a);l<a;++l)o[l]=r.charCodeAt(l);return new p([o],{type:n})}function y(e,t){if("download"in m)return m.href=e,m.setAttribute("download",_),m.className="download-js-link",m.innerHTML="downloading...",m.style.display="none",document.body.appendChild(m),setTimeout((function(){m.click(),document.body.removeChild(m),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(m.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(a=c instanceof p?c:new p([c],{type:i}),navigator.msSaveBlob)return navigator.msSaveBlob(a,_);if(o.URL)y(o.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===d)try{return y("data:"+i+";base64,"+o.btoa(a))}catch(e){return y("data:"+i+","+encodeURIComponent(a))}(l=new FileReader).onload=function(e){y(this.result)},l.readAsDataURL(a)}return!0}})?n.apply(t,[]):n)||(e.exports=r)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,n),l.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.r(r),n.d(r,{PluginMoreMenuItem:function(){return fa},PluginSidebar:function(){return Ea},PluginSidebarMoreMenuItem:function(){return ga},__experimentalMainDashboardButton:function(){return an},__experimentalNavigationToggle:function(){return _a},initialize:function(){return va},reinitializeEditor:function(){return ha}});var e={};n.r(e),n.d(e,{disableComplementaryArea:function(){return se},enableComplementaryArea:function(){return oe},pinItem:function(){return ce},setFeatureDefaults:function(){return pe},setFeatureValue:function(){return de},toggleFeature:function(){return me},unpinItem:function(){return ue}});var t={};n.r(t),n.d(t,{getActiveComplementaryArea:function(){return _e},isFeatureActive:function(){return ge},isItemPinned:function(){return Ee}});var a={};n.r(a),n.d(a,{__experimentalSetPreviewDeviceType:function(){return Fe},addTemplate:function(){return ze},closeGeneralSidebar:function(){return nt},goBack:function(){return je},openGeneralSidebar:function(){return tt},openNavigationPanelToMenu:function(){return Xe},pushTemplatePart:function(){return He},removeTemplate:function(){return Ge},revertTemplate:function(){return et},setHomeTemplateId:function(){return $e},setIsInserterOpened:function(){return Qe},setIsListViewOpened:function(){return Ze},setIsNavigationPanelOpened:function(){return Ke},setNavigationPanelActiveMenu:function(){return qe},setPage:function(){return We},setTemplate:function(){return Ve},setTemplatePart:function(){return Ue},showHomepage:function(){return Ye},toggleFeature:function(){return De},updateSettings:function(){return Je}});var l={};n.r(l),n.d(l,{__experimentalGetInsertionPoint:function(){return wt},__experimentalGetPreviewDeviceType:function(){return it},getCanUserCreateMedia:function(){return ct},getCurrentTemplateNavigationPanelSubMenu:function(){return yt},getCurrentTemplateTemplateParts:function(){return Tt},getEditedPostId:function(){return Et},getEditedPostType:function(){return _t},getHomeTemplateId:function(){return mt},getNavigationPanelActiveMenu:function(){return vt},getPage:function(){return ht},getPreviousEditedPostId:function(){return ft},getPreviousEditedPostType:function(){return gt},getSettings:function(){return ut},isFeatureActive:function(){return st},isInserterOpened:function(){return St},isListViewOpened:function(){return kt},isNavigationOpened:function(){return bt}});var o=window.wp.element,s=window.wp.blocks,i=window.wp.blockLibrary,c=window.wp.data,u=window.wp.coreData,m=n(3729),d=n.n(m),p=window.wp.components,_=window.wp.i18n,E=window.wp.plugins,g=window.wp.apiFetch,f=n.n(g),h=window.wp.primitives,v=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})),y=window.lodash;const{Fill:b,Slot:S}=(0,p.createSlotFill)("EditSiteToolsMoreMenuGroup");b.Slot=({fillProps:e})=>(0,o.createElement)(S,{fillProps:e},(e=>!(0,y.isEmpty)(e)&&(0,o.createElement)(p.MenuGroup,{label:(0,_.__)("Tools")},e)));var w=b;(0,E.registerPlugin)("edit-site",{render:()=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(w,null,(0,o.createElement)(p.MenuItem,{role:"menuitem",icon:v,onClick:()=>f()({path:"/__experimental/edit-site/v1/export",parse:!1}).then((e=>e.blob())).then((e=>d()(e,"edit-site-export.zip","application/zip"))),info:(0,_.__)("Download your templates and template parts.")},(0,_.__)("Export"))))});var k=window.wp.hooks,T=window.wp.mediaUtils;(0,k.addFilter)("editor.MediaUpload","core/edit-site/components/media-upload",(()=>T.MediaUpload));var x=window.wp.dataControls;const I={},C="core/edit-site",P="header",N="footer",M="sidebar",A="uncategorized",B={[P]:(0,_.__)("Header"),[N]:(0,_.__)("Footer"),[M]:(0,_.__)("Sidebar"),[A]:(0,_.__)("General")},R=["index","singular","archive","single","page","home","404","search","author","category","taxonomy","date","tag","attachment","single-post","front-page"],L=["page-home"],O=["post-","author-","single-post-","tag-"],D=["page-"],F={singular:["single","page"],index:["archive","404","search","singular","home"],home:["front-page"]},V="root",z="templates",G="templates-general",U=[{area:P,menu:"template-parts-headers",title:(0,_.__)("headers")},{area:N,menu:"template-parts-footers",title:(0,_.__)("footers")},{area:M,menu:"template-parts-sidebars",title:(0,_.__)("sidebars")},{area:A,menu:"template-parts-general",title:(0,_.__)("general")}],H=(0,c.combineReducers)({features(e=I,t){switch(t.type){case"TOGGLE_FEATURE":return{...e,[t.feature]:!e[t.feature]};default:return e}}});var $=(0,c.combineReducers)({preferences:H,deviceType:function(e="Desktop",t){switch(t.type){case"SET_PREVIEW_DEVICE_TYPE":return t.deviceType}return e},settings:function(e={},t){switch(t.type){case"UPDATE_SETTINGS":return{...e,...t.settings}}return e},editedPost:function(e=[],t){switch(t.type){case"SET_TEMPLATE":case"SET_PAGE":return[{type:"wp_template",id:t.templateId,page:t.page}];case"SET_TEMPLATE_PART":return[{type:"wp_template_part",id:t.templatePartId}];case"PUSH_TEMPLATE_PART":return[...e,{type:"wp_template_part",id:t.templatePartId}];case"GO_BACK":return e.slice(0,-1)}return e},homeTemplateId:function(e,t){switch(t.type){case"SET_HOME_TEMPLATE":return t.homeTemplateId}return e},navigationPanel:function(e={menu:V,isOpen:!1},t){switch(t.type){case"SET_NAVIGATION_PANEL_ACTIVE_MENU":return{...e,menu:t.menu};case"OPEN_NAVIGATION_PANEL_TO_MENU":return{...e,isOpen:!0,menu:t.menu};case"SET_IS_NAVIGATION_PANEL_OPENED":return{...e,menu:t.isOpen?e.menu:V,isOpen:t.isOpen};case"SET_IS_LIST_VIEW_OPENED":return{...e,menu:e.isOpen&&t.isOpen?V:e.menu,isOpen:!t.isOpen&&e.isOpen};case"SET_IS_INSERTER_OPENED":return{...e,menu:e.isOpen&&t.value?V:e.menu,isOpen:!t.value&&e.isOpen}}return e},blockInserterPanel:function(e=!1,t){switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(e=!1,t){switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e}}),W=window.wp.url,j=window.wp.notices;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var q=n(4184),X=n.n(q),K=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Q=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),J=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),Z=window.wp.viewport,ee=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));const te=(0,c.combineReducers)({features(e={},t){if("SET_FEATURE_DEFAULTS"===t.type){const{scope:n,defaults:r}=t;return{...e,[n]:{...e[n],...r}}}return e}}),ne=(0,c.combineReducers)({features(e={},t){if("SET_FEATURE_VALUE"===t.type){const{scope:n,featureName:r,value:a}=t;return{...e,[n]:{...e[n],[r]:a}}}return e}}),re=(0,c.combineReducers)({singleEnableItems:function(e={},{type:t,itemType:n,scope:r,item:a}){return"SET_SINGLE_ENABLE_ITEM"===t&&n&&r?{...e,[n]:{...e[n],[r]:a||null}}:e},multipleEnableItems:function(e={},{type:t,itemType:n,scope:r,item:a,isEnable:l}){if("SET_MULTIPLE_ENABLE_ITEM"!==t||!n||!r||!a||(0,y.get)(e,[n,r,a])===l)return e;const o=e[n]||{},s=o[r]||{};return{...e,[n]:{...o,[r]:{...s,[a]:l||!1}}}}});var ae=(0,c.combineReducers)({enableItems:re,preferenceDefaults:te,preferences:ne});function le(e,t,n){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:n}}function oe(e,t){return le("complementaryArea",e,t)}function se(e){return le("complementaryArea",e,void 0)}function ie(e,t,n,r){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:n,isEnable:r}}function ce(e,t){return ie("pinnedItems",e,t,!0)}function ue(e,t){return ie("pinnedItems",e,t,!1)}function me(e,t){return function({select:n,dispatch:r}){const a=n.isFeatureActive(e,t);r.setFeatureValue(e,t,!a)}}function de(e,t,n){return{type:"SET_FEATURE_VALUE",scope:e,featureName:t,value:!!n}}function pe(e,t){return{type:"SET_FEATURE_DEFAULTS",scope:e,defaults:t}}function _e(e,t){return function(e,t,n){return(0,y.get)(e.enableItems.singleEnableItems,["complementaryArea",n])}(e,0,t)}function Ee(e,t,n){return!1!==function(e,t,n,r){return(0,y.get)(e.enableItems.multipleEnableItems,["pinnedItems",n,r])}(e,0,t,n)}function ge(e,t,n){var r,a;const l=null===(r=e.preferences.features[t])||void 0===r?void 0:r[n];return!!(void 0!==l?l:null===(a=e.preferenceDefaults.features[t])||void 0===a?void 0:a[n])}const fe="core/interface",he=(0,c.createReduxStore)(fe,{reducer:ae,actions:e,selectors:t,persist:["enableItems","preferences"],__experimentalUseThunks:!0});(0,c.registerStore)(fe,{reducer:ae,actions:e,selectors:t,persist:["enableItems","preferences"],__experimentalUseThunks:!0});var ve=(0,E.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),ye=ve((function({as:e=p.Button,scope:t,identifier:n,icon:r,selectedIcon:a,...l}){const s=e,i=(0,c.useSelect)((e=>e(he).getActiveComplementaryArea(t)===n),[n]),{enableComplementaryArea:u,disableComplementaryArea:m}=(0,c.useDispatch)(he);return(0,o.createElement)(s,Y({icon:a&&i?a:r,onClick:()=>{i?m(t):u(t,n)}},(0,y.omit)(l,["name"])))})),be=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:r})=>{const a=(0,o.createElement)(ye,Y({icon:ee},r));return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,o.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),a),(0,o.createElement)("div",{className:X()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,a))};function Se({name:e,as:t=p.Button,onClick:n,...r}){return(0,o.createElement)(p.Fill,{name:e},(({onClick:e})=>(0,o.createElement)(t,Y({onClick:n||e?(...t)=>{(n||y.noop)(...t),(e||y.noop)(...t)}:void 0},r))))}Se.Slot=function({name:e,as:t=p.ButtonGroup,fillProps:n={},bubblesVirtually:r,...a}){return(0,o.createElement)(p.Slot,{name:e,bubblesVirtually:r,fillProps:n},(e=>{if((0,y.isEmpty)(o.Children.toArray(e)))return null;const n=[];o.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)}));const r=o.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e));return(0,o.createElement)(t,a,r)}))};var we=Se;const ke=e=>(0,o.createElement)(p.MenuItem,(0,y.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function Te({scope:e,target:t,__unstableExplicitMenuItem:n,...r}){return(0,o.createElement)(ye,Y({as:r=>(0,o.createElement)(we,Y({__unstableExplicitMenuItem:n,__unstableTarget:`${e}/${t}`,as:ke,name:`${e}/plugin-more-menu`},r)),role:"menuitemcheckbox",selectedIcon:K,name:t,scope:e},r))}function xe({scope:e,...t}){return(0,o.createElement)(p.Fill,Y({name:`PinnedItems/${e}`},t))}xe.Slot=function({scope:e,className:t,...n}){return(0,o.createElement)(p.Slot,Y({name:`PinnedItems/${e}`},n),(e=>!(0,y.isEmpty)(e)&&(0,o.createElement)("div",{className:X()(t,"interface-pinned-items")},e)))};var Ie=xe;function Ce({scope:e,children:t,className:n}){return(0,o.createElement)(p.Fill,{name:`ComplementaryArea/${e}`},(0,o.createElement)("div",{className:n},t))}const Pe=ve((function({children:e,className:t,closeLabel:n=(0,_.__)("Close plugin"),identifier:r,header:a,headerClassName:l,icon:s,isPinnable:i=!0,panelClassName:u,scope:m,name:d,smallScreenTitle:E,title:g,toggleShortcut:f,isActiveByDefault:h,showIconLabels:v=!1}){const{isActive:y,isPinned:b,activeArea:S,isSmall:w,isLarge:k}=(0,c.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(he),a=t(m);return{isActive:a===r,isPinned:n(m,r),activeArea:a,isSmall:e(Z.store).isViewportMatch("< medium"),isLarge:e(Z.store).isViewportMatch("large")}}),[r,m]);!function(e,t,n,r,a){const l=(0,o.useRef)(!1),s=(0,o.useRef)(!1),{enableComplementaryArea:i,disableComplementaryArea:u}=(0,c.useDispatch)(he);(0,o.useEffect)((()=>{r&&a&&!l.current?(u(e),s.current=!0):s.current&&!a&&l.current?(s.current=!1,i(e,t)):s.current&&n&&n!==t&&(s.current=!1),a!==l.current&&(l.current=a)}),[r,a,e,t,n])}(m,r,S,y,w);const{enableComplementaryArea:T,disableComplementaryArea:x,pinItem:I,unpinItem:C}=(0,c.useDispatch)(he);return(0,o.useEffect)((()=>{h&&void 0===S&&!w&&T(m,r)}),[S,h,m,r,w]),(0,o.createElement)(o.Fragment,null,i&&(0,o.createElement)(Ie,{scope:m},b&&(0,o.createElement)(ye,{scope:m,identifier:r,isPressed:y&&(!v||k),"aria-expanded":y,label:g,icon:v?K:s,showTooltip:!v,variant:v?"tertiary":void 0})),d&&i&&(0,o.createElement)(Te,{target:d,scope:m,icon:s},g),y&&(0,o.createElement)(Ce,{className:X()("interface-complementary-area",t),scope:m},(0,o.createElement)(be,{className:l,closeLabel:n,onClose:()=>x(m),smallScreenTitle:E,toggleButtonProps:{label:n,shortcut:f,scope:m,identifier:r}},a||(0,o.createElement)(o.Fragment,null,(0,o.createElement)("strong",null,g),i&&(0,o.createElement)(p.Button,{className:"interface-complementary-area__pin-unpin-item",icon:b?Q:J,label:b?(0,_.__)("Unpin from toolbar"):(0,_.__)("Pin to toolbar"),onClick:()=>(b?C:I)(m,r),isPressed:b,"aria-expanded":b}))),(0,o.createElement)(p.Panel,{className:u},e)))}));Pe.Slot=function({scope:e,...t}){return(0,o.createElement)(p.Slot,Y({name:`ComplementaryArea/${e}`},t))};var Ne,Me,Ae=Pe,Be=({isActive:e})=>((0,o.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,o.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null),Re=window.wp.compose,Le=(0,o.forwardRef)((function({footer:e,header:t,sidebar:n,secondarySidebar:r,notices:a,content:l,drawer:s,actions:i,labels:c,className:u,shortcuts:m},d){const E=(0,p.__unstableUseNavigateRegions)(m);!function(e){(0,o.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const g={
/* translators: accessibility text for the nav bar landmark region. */
drawer:(0,_.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:(0,_.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,_.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,_.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,_.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,_.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,_.__)("Footer"),...c};return(0,o.createElement)("div",Y({},E,{ref:(0,Re.useMergeRefs)([d,E.ref]),className:X()(u,"interface-interface-skeleton",E.className,!!e&&"has-footer")}),!!s&&(0,o.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":g.drawer},s),(0,o.createElement)("div",{className:"interface-interface-skeleton__editor"},!!t&&(0,o.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":g.header,tabIndex:"-1"},t),(0,o.createElement)("div",{className:"interface-interface-skeleton__body"},!!r&&(0,o.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":g.secondarySidebar,tabIndex:"-1"},r),!!a&&(0,o.createElement)("div",{className:"interface-interface-skeleton__notices"},a),(0,o.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":g.body,tabIndex:"-1"},l),!!n&&(0,o.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":g.sidebar,tabIndex:"-1"},n),!!i&&(0,o.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":g.actions,tabIndex:"-1"},i))),!!e&&(0,o.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":g.footer,tabIndex:"-1"},e))}));function Oe(e){return!!e&&"custom"===(null==e?void 0:e.source)&&(null==e?void 0:e.has_theme_file)}function De(e){return{type:"TOGGLE_FEATURE",feature:e}}function Fe(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function*Ve(e,t){const n={templateSlug:t};if(!t){const t=yield c.controls.resolveSelect(u.store,"getEntityRecord","postType","wp_template",e);n.templateSlug=null==t?void 0:t.slug}return{type:"SET_TEMPLATE",templateId:e,page:{context:n}}}function*ze(e){const t=yield c.controls.dispatch(u.store,"saveEntityRecord","postType","wp_template",e);return e.content&&(yield c.controls.dispatch(u.store,"editEntityRecord","postType","wp_template",t.id,{blocks:(0,s.parse)(e.content)},{undoIgnore:!0})),{type:"SET_TEMPLATE",templateId:t.id,page:{context:{templateSlug:t.slug}}}}function*Ge(e){yield(0,x.apiFetch)({path:`/wp/v2/templates/${e}`,method:"DELETE"});const t=yield c.controls.select(C,"getPage");yield c.controls.dispatch(C,"setPage",t)}function Ue(e){return{type:"SET_TEMPLATE_PART",templatePartId:e}}function He(e){return{type:"PUSH_TEMPLATE_PART",templatePartId:e}}function $e(e){return{type:"SET_HOME_TEMPLATE",homeTemplateId:e}}function*We(e){var t;if(!e.path&&null!==(t=e.context)&&void 0!==t&&t.postId){const t=yield c.controls.resolveSelect(u.store,"getEntityRecord","postType",e.context.postType||"post",e.context.postId);e.path=(0,W.getPathAndQueryString)(t.link)}const{id:n,slug:r}=yield c.controls.resolveSelect(u.store,"__experimentalGetTemplateForLink",e.path);return yield{type:"SET_PAGE",page:r?{...e,context:{...e.context,templateSlug:r}}:e,templateId:n},n}function je(){return{type:"GO_BACK"}}function*Ye(){const{show_on_front:e,page_on_front:t}=yield c.controls.resolveSelect(u.store,"getEntityRecord","root","site"),{siteUrl:n}=yield c.controls.select(C,"getSettings"),r={path:n,context:"page"===e?{postType:"page",postId:t}:{}},a=yield*We(r);yield $e(a)}function qe(e){return{type:"SET_NAVIGATION_PANEL_ACTIVE_MENU",menu:e}}function Xe(e){return{type:"OPEN_NAVIGATION_PANEL_TO_MENU",menu:e}}function Ke(e){return{type:"SET_IS_NAVIGATION_PANEL_OPENED",isOpen:e}}function Qe(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function Je(e){return{type:"UPDATE_SETTINGS",settings:e}}function Ze(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function*et(e){if(Oe(e))try{var t;const n=yield c.controls.select(u.store,"getEntity","postType",e.type);if(!n)return void(yield c.controls.dispatch(j.store,"createErrorNotice",(0,_.__)("The editor has encountered an unexpected error. Please reload."),{type:"snackbar"}));const r=(0,W.addQueryArgs)(`${n.baseURL}/${e.id}`,{context:"edit",source:"theme"}),a=yield(0,x.apiFetch)({path:r});if(!a)return void(yield c.controls.dispatch(j.store,"createErrorNotice",(0,_.__)("The editor has encountered an unexpected error. Please reload."),{type:"snackbar"}));const l=({blocks:e=[]})=>(0,s.__unstableSerializeAndClean)(e),o=yield c.controls.select(u.store,"getEditedEntityRecord","postType",e.type,e.id);yield c.controls.dispatch(u.store,"editEntityRecord","postType",e.type,e.id,{content:l,blocks:o.blocks,source:"custom"},{undoIgnore:!0});const i=(0,s.parse)(null==a||null===(t=a.content)||void 0===t?void 0:t.raw);yield c.controls.dispatch(u.store,"editEntityRecord","postType",e.type,a.id,{content:l,blocks:i,source:"theme"});const m=async()=>{await(0,c.dispatch)(u.store).editEntityRecord("postType",e.type,o.id,{content:l,blocks:o.blocks,source:"custom"})};yield c.controls.dispatch(j.store,"createSuccessNotice",(0,_.__)("Template reverted."),{type:"snackbar",actions:[{label:(0,_.__)("Undo"),onClick:m}]})}catch(e){const t=e.message&&"unknown_error"!==e.code?e.message:(0,_.__)("Template revert failed. Please reload.");yield c.controls.dispatch(j.store,"createErrorNotice",t,{type:"snackbar"})}else yield c.controls.dispatch(j.store,"createErrorNotice",(0,_.__)("This template is not revertable."),{type:"snackbar"})}function*tt(e){yield c.controls.dispatch(he,"enableComplementaryArea",C,e)}function*nt(){yield c.controls.dispatch(he,"disableComplementaryArea",C)}function rt(e){return[e]}function at(){var e={clear:function(){e.head=null}};return e}function lt(e,t,n){var r;if(e.length!==t.length)return!1;for(r=n;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ot(e,t,n){return!!F[e]&&("home"===e&&"posts"!==n||F[e].every((e=>t.includes(e)||ot(e,t,n))))}function st(e,t){return(0,y.get)(e.preferences.features,[t],!1)}function it(e){return e.deviceType}Ne={},Me="undefined"!=typeof WeakMap;const ct=(0,c.createRegistrySelector)((e=>()=>e(u.store).canUser("create","media"))),ut=function(e,t){var n,r;function a(){n=Me?new WeakMap:at()}function l(){var n,a,l,o,s,i=arguments.length;for(o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];for(s=t.apply(null,o),(n=r(s)).isUniqueByDependants||(n.lastDependants&&!lt(s,n.lastDependants,0)&&n.clear(),n.lastDependants=s),a=n.head;a;){if(lt(a.args,o,1))return a!==n.head&&(a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.next=n.head,a.prev=null,n.head.prev=a,n.head=a),a.val;a=a.next}return a={val:e.apply(null,o)},o[0]=null,a.args=o,n.head&&(n.head.prev=a,a.next=n.head),n.head=a,a.val}return t||(t=rt),r=Me?function(e){var t,r,a,l,o,s=n,i=!0;for(t=0;t<e.length;t++){if(!(o=r=e[t])||"object"!=typeof o){i=!1;break}s.has(r)?s=s.get(r):(a=new WeakMap,s.set(r,a),s=a)}return s.has(Ne)||((l=at()).isUniqueByDependants=i,s.set(Ne,l)),s.get(Ne)}:function(){return n},l.getDependants=t,l.clear=a,a(),l}(((e,t)=>{const n={...e.settings,outlineMode:!0,focusMode:st(e,"focusMode"),hasFixedToolbar:st(e,"fixedToolbar"),__experimentalSetIsInserterOpened:t};return ct(e)?(n.mediaUpload=({onError:t,...n})=>{(0,T.uploadMedia)({wpAllowedMimeTypes:e.settings.allowedMimeTypes,onError:({message:e})=>t(e),...n})},n):n}),(e=>[ct(e),e.settings,st(e,"focusMode"),st(e,"fixedToolbar")]));function mt(e){return e.homeTemplateId}function dt(e){return e.editedPost[e.editedPost.length-1]||{}}function pt(e){return e.editedPost[e.editedPost.length-2]||{}}function _t(e){return dt(e).type}function Et(e){return dt(e).id}function gt(e){return pt(e).type}function ft(e){return pt(e).id}function ht(e){return dt(e).page}function vt(e){return e.navigationPanel.menu}const yt=(0,c.createRegistrySelector)((e=>t=>{const n=_t(t),r=Et(t),a=r?e(u.store).getEntityRecord("postType",n,r):null;if(!a)return V;var l;if("wp_template_part"===n)return(null===(l=U.find((e=>e.area===(null==a?void 0:a.area))))||void 0===l?void 0:l.menu)||"template-parts";const o=e(u.store).getEntityRecords("postType","wp_template"),s=e(u.store).getEditedEntityRecord("root","site").show_on_front;return ot(a.slug,(0,y.map)(o,"slug"),s)?"templates-unused":(i=a.slug,R.includes(i)?z:L.includes(i)?G:O.some((e=>i.startsWith(e)))?"templates-posts":D.some((e=>i.startsWith(e)))?"templates-pages":G);var i}));function bt(e){return e.navigationPanel.isOpen}function St(e){return!!e.blockInserterPanel}function wt(e){const{rootClientId:t,insertionIndex:n,filterValue:r}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:n,filterValue:r}}function kt(e){return e.listViewPanel}const Tt=(0,c.createRegistrySelector)((e=>t=>{var n;const r=_t(t),a=Et(t),l=e(u.store).getEditedEntityRecord("postType",r,a),o=e(u.store).getEntityRecords("postType","wp_template_part"),i=(0,y.keyBy)(o,(e=>e.id));return(null!==(n=l.blocks)&&void 0!==n?n:[]).filter((e=>(0,s.isTemplatePart)(e))).map((e=>{const{attributes:{theme:t,slug:n}}=e;return{templatePart:i[`${t}//${n}`],block:e}})).filter((({templatePart:e})=>!!e))})),xt={reducer:$,actions:a,selectors:l,controls:x.controls,persist:["preferences"]},It=(0,c.createReduxStore)(C,xt);(0,c.registerStore)(C,xt);var Ct=window.wp.blockEditor,Pt=window.wp.editor,Nt=window.wp.keyboardShortcuts,Mt=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),At=(0,o.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(h.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"})),Bt=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,o.createElement)(h.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})),Rt=function({icon:e}){const{isRequestingSiteIcon:t,siteIconUrl:n}=(0,c.useSelect)((e=>{const{getEntityRecord:t,isResolving:n}=e(u.store),r=t("root","__unstableBase",void 0)||{};return{isRequestingSiteIcon:n("core","getEntityRecord",["root","__unstableBase",void 0]),siteIconUrl:r.site_icon_url}}),[]),r=(0,Re.useReducedMotion)();let a=(0,o.createElement)(p.Icon,{size:"36px",icon:Bt});return n?a=(0,o.createElement)(p.__unstableMotion.img,{variants:!r&&{expand:{scale:1.7,borderRadius:0,transition:{type:"tween",duration:"0.2"}}},alt:(0,_.__)("Site Icon"),className:"edit-site-navigation-link__site-icon",src:n}):t?a=null:e&&(a=(0,o.createElement)(p.Icon,{size:"36px",icon:e})),(0,o.createElement)(p.__unstableMotion.div,{className:"edit-site-navigation-link",whileHover:"expand"},(0,o.createElement)(p.Button,{className:"edit-site-navigation-link__button has-icon",label:(0,_.__)("Dashboard"),href:"index.php"},a))},Lt=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})),Ot=window.wp.a11y;function Dt({feature:e,label:t,info:n,messageActivated:r,messageDeactivated:a}){const l=(0,c.useSelect)((t=>t(It).isFeatureActive(e)),[]),{toggleFeature:s}=(0,c.useDispatch)(It);return(0,o.createElement)(p.MenuItem,{icon:l&&K,isSelected:l,onClick:(0,y.flow)(s.bind(null,e),(()=>{l?(0,Ot.speak)(a||(0,_.__)("Feature deactivated")):(0,Ot.speak)(r||(0,_.__)("Feature activated"))})),role:"menuitemcheckbox",info:n},t)}const Ft={className:"edit-site-more-menu__content",position:"bottom left"},Vt={tooltipPosition:"bottom"};var zt=()=>(0,o.createElement)(p.DropdownMenu,{className:"edit-site-more-menu",icon:Lt,label:(0,_.__)("More tools & options"),popoverProps:Ft,toggleProps:Vt},(({onClose:e})=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(p.MenuGroup,{label:(0,_._x)("View","noun")},(0,o.createElement)(Dt,{feature:"fixedToolbar",label:(0,_.__)("Top toolbar"),info:(0,_.__)("Access all block and document tools in a single place"),messageActivated:(0,_.__)("Top toolbar activated"),messageDeactivated:(0,_.__)("Top toolbar deactivated")}),(0,o.createElement)(Dt,{feature:"focusMode",label:(0,_.__)("Spotlight mode"),info:(0,_.__)("Focus on one block at a time"),messageActivated:(0,_.__)("Spotlight mode activated"),messageDeactivated:(0,_.__)("Spotlight mode deactivated")}),(0,o.createElement)(we.Slot,{name:"core/edit-site/plugin-more-menu",label:(0,_.__)("Plugins"),as:p.MenuGroup,fillProps:{onClick:e}})),(0,o.createElement)(w.Slot,{fillProps:{onClose:e}}))));function Gt({openEntitiesSavedStates:e,isEntitiesSavedStatesOpen:t}){const{isDirty:n,isSaving:r}=(0,c.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t,isSavingEntityRecord:n}=e(u.store),r=t();return{isDirty:r.length>0,isSaving:(0,y.some)(r,(e=>n(e.kind,e.name,e.key)))}}),[]),a=!n||r;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(p.Button,{variant:"primary",className:"edit-site-save-button__button","aria-disabled":a,"aria-expanded":t,disabled:a,isBusy:r,onClick:a?void 0:e},(0,_.__)("Save")))}var Ut=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),Ht=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),$t=window.wp.keycodes;function Wt(){const e=(0,c.useSelect)((e=>e(u.store).hasUndo()),[]),{undo:t}=(0,c.useDispatch)(u.store);return(0,o.createElement)(p.Button,{icon:(0,_.isRTL)()?Ht:Ut,label:(0,_.__)("Undo"),shortcut:$t.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function jt(){const e=(0,c.useSelect)((e=>e(u.store).hasRedo()),[]),{redo:t}=(0,c.useDispatch)(u.store);return(0,o.createElement)(p.Button,{icon:(0,_.isRTL)()?Ut:Ht,label:(0,_.__)("Redo"),shortcut:$t.displayShortcut.primaryShift("z"),"aria-disabled":!e,onClick:e?t:void 0})}var Yt=(0,o.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(h.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));function qt(e){if(e){const t=(0,s.getBlockType)(e.name);return t?(0,s.__experimentalGetBlockLabel)(t,e.attributes):null}return null}function Xt({entityTitle:e,entityLabel:t,isLoaded:n,children:r}){const{label:a}=function(){const{getBlock:e}=(0,c.useSelect)(Ct.store),t=(0,c.useSelect)((e=>e(Ct.store).__experimentalGetActiveBlockIdByBlockNames(["core/template-part"])),[]);return t?{label:qt(e(t)),isActive:!0}:{}}(),l=(0,o.useRef)();return n?e?(0,o.createElement)("div",{className:X()("edit-site-document-actions",{"has-secondary-label":!!a})},(0,o.createElement)("div",{ref:l,className:"edit-site-document-actions__title-wrapper"},(0,o.createElement)(p.__experimentalText,{size:"body",className:"edit-site-document-actions__title-prefix"},(0,o.createElement)(p.VisuallyHidden,{as:"span"},(0,_.sprintf)(
/* translators: %s: the entity being edited, like "template"*/
(0,_.__)("Editing %s:"),t))),(0,o.createElement)(p.__experimentalText,{size:"body",className:"edit-site-document-actions__title",as:"h1"},e),(0,o.createElement)(p.__experimentalText,{size:"body",className:"edit-site-document-actions__secondary-item"},null!=a?a:""),r&&(0,o.createElement)(p.Dropdown,{popoverProps:{anchorRef:l.current},position:"bottom center",renderToggle:({isOpen:e,onToggle:n})=>(0,o.createElement)(p.Button,{className:"edit-site-document-actions__get-info",icon:Yt,"aria-expanded":e,"aria-haspopup":"true",onClick:n,label:(0,_.sprintf)(
/* translators: %s: the entity to see details about, like "template"*/
(0,_.__)("Show %s details"),t)}),contentClassName:"edit-site-document-actions__info-dropdown",renderContent:r}))):(0,o.createElement)("div",{className:"edit-site-document-actions"},(0,_.__)("Template not found")):(0,o.createElement)("div",{className:"edit-site-document-actions"},(0,_.__)("Loading…"))}function Kt({onClose:e,templatePart:t,closeTemplateDetailsDropdown:n}){var r;const{pushTemplatePart:a,revertTemplate:l}=(0,c.useDispatch)(It);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(p.MenuGroup,null,(0,o.createElement)(p.MenuItem,{onClick:function(){a(t.id),e(),n()}},(0,_.sprintf)(
/* translators: %s: template part title */
(0,_.__)("Edit %s"),null===(r=t.title)||void 0===r?void 0:r.rendered))),Oe(t)&&(0,o.createElement)(p.MenuGroup,null,(0,o.createElement)(p.MenuItem,{info:(0,_.__)("Restore template to theme default"),onClick:function(){l(t),e(),n()}},(0,_.__)("Clear customizations"))))}function Qt({templatePart:e,clientId:t,closeTemplateDetailsDropdown:n}){const{selectBlock:r,toggleBlockHighlight:a}=(0,c.useDispatch)(Ct.store),l=()=>a(t,!0),s=()=>a(t,!1);return(0,o.createElement)("div",{role:"menuitem",className:"edit-site-template-details__template-areas-item"},(0,o.createElement)(p.MenuItem,{role:"button",icon:(0,Pt.getTemplatePartIcon)(e.area),iconPosition:"left",onClick:()=>{r(t)},onMouseOver:l,onMouseLeave:s,onFocus:l,onBlur:s},B[e.area]),(0,o.createElement)(p.DropdownMenu,{icon:Lt,label:(0,_.__)("More options"),className:"edit-site-template-details__template-areas-item-more"},(({onClose:t})=>(0,o.createElement)(Kt,{onClose:t,templatePart:e,closeTemplateDetailsDropdown:n}))))}function Jt({closeTemplateDetailsDropdown:e}){const t=(0,c.useSelect)((e=>e(It).getCurrentTemplateTemplateParts()),[]);return t.length?(0,o.createElement)(p.MenuGroup,{label:(0,_.__)("Areas"),className:"edit-site-template-details__group edit-site-template-details__template-areas"},t.map((({templatePart:t,block:n})=>(0,o.createElement)(Qt,{key:t.slug,clientId:n.clientId,templatePart:t,closeTemplateDetailsDropdown:e})))):null}function Zt({template:e,onClose:t}){const{title:n,description:r}=(0,c.useSelect)((t=>t(Pt.store).__experimentalGetTemplateInfo(e)),[]),{revertTemplate:a}=(0,c.useDispatch)(It),l=(0,o.useMemo)((()=>"wp_template"===(null==e?void 0:e.type)?{title:(0,_.__)("templates"),menu:z}:U.find((({area:t})=>t===(null==e?void 0:e.area)))),[e]);return e?(0,o.createElement)("div",{className:"edit-site-template-details"},(0,o.createElement)("div",{className:"edit-site-template-details__group"},(0,o.createElement)(p.__experimentalHeading,{level:4,weight:600,className:"edit-site-template-details__title"},n),r&&(0,o.createElement)(p.__experimentalText,{size:"body",className:"edit-site-template-details__description",as:"p"},r)),(0,o.createElement)(Jt,{closeTemplateDetailsDropdown:t}),Oe(e)&&(0,o.createElement)(p.MenuGroup,{className:"edit-site-template-details__group edit-site-template-details__revert"},(0,o.createElement)(p.MenuItem,{className:"edit-site-template-details__revert-button",info:(0,_.__)("Restore template to theme default"),onClick:()=>{a(e),t()}},(0,_.__)("Clear customizations"))),(0,o.createElement)(p.Button,{className:"edit-site-template-details__show-all-button",href:(0,W.addQueryArgs)("edit.php",{post_type:e.type})},(0,_.sprintf)(
/* translators: the template part's area name ("Headers", "Sidebars") or "templates". */
(0,_.__)("Browse all %s"),l.title))):null}const en="__experimentalMainDashboardButton",{Fill:tn,Slot:nn}=(0,p.createSlotFill)(en),rn=tn;rn.Slot=({children:e})=>{const t=(0,p.__experimentalUseSlot)(en);return Boolean(t.fills&&t.fills.length)?(0,o.createElement)(nn,{bubblesVirtually:!0}):e};var an=rn;const ln=e=>{e.preventDefault()};function on({openEntitiesSavedStates:e,isEntitiesSavedStatesOpen:t}){const n=(0,o.useRef)(),{deviceType:r,entityTitle:a,template:l,templateType:s,isInserterOpen:i,isListViewOpen:m,listViewShortcut:d,isLoaded:E}=(0,c.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:t,getEditedPostType:n,getEditedPostId:r,isInserterOpened:a,isListViewOpened:l}=e(It),{getEditedEntityRecord:o}=e(u.store),{__experimentalGetTemplateInfo:s}=e(Pt.store),{getShortcutRepresentation:i}=e(Nt.store),c=n(),m=r(),d=o("postType",c,m),p=!!m;return{deviceType:t(),entityTitle:s(d).title,isLoaded:p,template:d,templateType:c,isInserterOpen:a(),isListViewOpen:l(),listViewShortcut:i("core/edit-site/toggle-list-view")}}),[]),{__experimentalSetPreviewDeviceType:g,setIsInserterOpened:f,setIsListViewOpened:h}=(0,c.useDispatch)(It),v=(0,Re.useViewportMatch)("medium"),y=(0,o.useCallback)((()=>{i?n.current.focus():f(!0)}),[i,f]),b=(0,o.useCallback)((()=>h(!m)),[h,m]),S="wp_template_part"===s;return(0,o.createElement)("div",{className:"edit-site-header"},(0,o.createElement)("div",{className:"edit-site-header_start"},(0,o.createElement)(an.Slot,null,(0,o.createElement)(Rt,null)),(0,o.createElement)("div",{className:"edit-site-header__toolbar"},(0,o.createElement)(p.Button,{ref:n,variant:"primary",isPressed:i,className:"edit-site-header-toolbar__inserter-toggle",onMouseDown:ln,onClick:y,icon:Mt,label:(0,_._x)("Toggle block inserter","Generic label for block inserter button")}),v&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(Ct.ToolSelector,null),(0,o.createElement)(Wt,null),(0,o.createElement)(jt,null),(0,o.createElement)(p.Button,{className:"edit-site-header-toolbar__list-view-toggle",icon:At,isPressed:m
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,_.__)("List View"),onClick:b,shortcut:d})))),(0,o.createElement)("div",{className:"edit-site-header_center"},(0,o.createElement)(Xt,{entityTitle:a,entityLabel:"wp_template_part"===s?"template part":"template",isLoaded:E},(({onClose:e})=>(0,o.createElement)(Zt,{template:l,onClose:e})))),(0,o.createElement)("div",{className:"edit-site-header_end"},(0,o.createElement)("div",{className:"edit-site-header__actions"},!S&&(0,o.createElement)(Ct.__experimentalPreviewOptions,{deviceType:r,setDeviceType:g}),(0,o.createElement)(Gt,{openEntitiesSavedStates:e,isEntitiesSavedStatesOpen:t}),(0,o.createElement)(Ie.Slot,{scope:"core/edit-site"}),(0,o.createElement)(zt,null))))}var sn=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));function cn({className:e,identifier:t,title:n,icon:r,children:a,closeLabel:l,header:s,headerClassName:i}){return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(Ae,{className:e,scope:"core/edit-site",identifier:t,title:n,icon:r,closeLabel:l,header:s,headerClassName:i},a),(0,o.createElement)(Te,{scope:"core/edit-site",identifier:t,icon:r},n))}var un=(0,o.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(h.Path,{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"}));const mn="body",dn=[{path:["color","palette"],valueKey:"color",cssVarInfix:"color",classes:[{classSuffix:"color",propertyName:"color"},{classSuffix:"background-color",propertyName:"background-color"},{classSuffix:"border-color",propertyName:"border-color"}]},{path:["color","gradients"],valueKey:"gradient",cssVarInfix:"gradient",classes:[{classSuffix:"gradient-background",propertyName:"background"}]},{path:["typography","fontSizes"],valueKey:"size",cssVarInfix:"font-size",classes:[{classSuffix:"font-size",propertyName:"font-size"}]},{path:["typography","fontFamilies"],valueKey:"fontFamily",cssVarInfix:"font-family",classes:[{classSuffix:"font-family",propertyName:"font-family"}]}],pn={"color.background":"color","color.text":"color","elements.link.color.text":"color","color.gradient":"gradient","typography.fontSize":"font-size","typography.fontFamily":"font-family"};function En(e,t,n,r,a){const l=[(0,y.get)(e,["blocks",t,...n]),(0,y.get)(e,n)];for(const o of l)if(o){const l=["user","theme","core"];for(const s of l){const l=o[s];if(l){const o=(0,y.find)(l,(e=>e[r]===a));if(o)return"slug"===r||En(e,t,n,"slug",o.slug)[r]===o[r]?o:void 0}}}}function gn(e,t,n){if(!n||!(0,y.isString)(n))return n;const r="var:",a="var(--wp--";let l;if(n.startsWith(r))l=n.slice(r.length).split("|");else{if(!n.startsWith(a)||!n.endsWith(")"))return n;l=n.slice(a.length,-")".length).split("--")}const[o,...s]=l;return"preset"===o?function(e,t,n,[r,a]){const l=(0,y.find)(dn,["cssVarInfix",r]);if(!l)return n;const o=En(e,t,l.path,"slug",a);if(o){const{valueKey:n}=l;return gn(e,t,o[n])}return n}(e,t,n,s):"custom"===o?function(e,t,n,r){var a;const l=null!==(a=(0,y.get)(e,["blocks",t,"custom",...r]))&&void 0!==a?a:(0,y.get)(e,["custom",...r]);return l?gn(e,t,l):n}(e,t,n,s):n}const fn=(0,o.createContext)({user:{},base:{},merged:{},setUserConfig:()=>{}}),hn={isGlobalStylesUserThemeJSON:!0,version:1};function vn(e,t,n="all"){var r;const{merged:a,base:l,user:i,setUserConfig:c}=(0,o.useContext)(fn),u=t?`settings.blocks.${t}.${e}`:`settings.${e}`,m=t=>{const r=t?`settings.blocks.${t}.${e}`:`settings.${e}`,o=t=>{const n=(0,y.get)(t,r);var a,l;return s.__EXPERIMENTAL_PATHS_WITH_MERGE[e]?null!==(a=null!==(l=null==n?void 0:n.user)&&void 0!==l?l:null==n?void 0:n.theme)&&void 0!==a?a:null==n?void 0:n.core:n};let c;switch(n){case"all":c=o(a);break;case"user":c=o(i);break;case"base":c=o(l);break;default:throw"Unsupported source"}return c};return[null!==(r=m(t))&&void 0!==r?r:m(),t=>{c((n=>{const r=(0,y.cloneDeep)(n),a=s.__EXPERIMENTAL_PATHS_WITH_MERGE[e]?u+".user":u;return(0,y.set)(r,a,t),r}))}]}function yn(e,t,n="all"){var r;const{merged:a,base:l,user:s,setUserConfig:i}=(0,o.useContext)(fn),c=t?`styles.blocks.${t}.${e}`:`styles.${e}`;let u;switch(n){case"all":u=gn(a.settings,t,null!==(r=(0,y.get)(s,c))&&void 0!==r?r:(0,y.get)(l,c));break;case"user":u=gn(a.settings,t,(0,y.get)(s,c));break;case"base":u=gn(l.settings,t,(0,y.get)(l,c));break;default:throw"Unsupported source"}return[u,n=>{i((r=>{const l=(0,y.cloneDeep)(r);return(0,y.set)(l,c,function(e,t,n,r){if(!r)return r;const a=pn[n],l=(0,y.find)(dn,["cssVarInfix",a]);if(!l)return r;const{valueKey:o,path:s}=l,i=En(e,t,s,o,r);return i?`var:preset|${a}|${i.slug}`:r}(a.settings,t,e,n)),l}))}]}const bn=["background","backgroundColor","color","linkColor","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textDecoration","textTransform","padding"];function Sn(e){if(!e)return bn;const t=(0,s.getBlockType)(e);if(!t)return[];const n=[];return Object.keys(s.__EXPERIMENTAL_STYLE_PROPERTY).forEach((e=>{if(s.__EXPERIMENTAL_STYLE_PROPERTY[e].support)return s.__EXPERIMENTAL_STYLE_PROPERTY[e].requiresOptOut&&(0,y.has)(t.supports,s.__EXPERIMENTAL_STYLE_PROPERTY[e].support[0])&&!1!==(0,y.get)(t.supports,s.__EXPERIMENTAL_STYLE_PROPERTY[e].support)||(0,y.get)(t.supports,s.__EXPERIMENTAL_STYLE_PROPERTY[e].support,!1)?n.push(e):void 0})),n}function wn(e){const[t]=vn("color.palette.user",e),[n]=vn("color.palette.theme",e),[r]=vn("color.palette.core",e);return(0,o.useMemo)((()=>{const e=[];return r&&r.length&&e.push({name:(0,_.__)("Core"),colors:r}),n&&n.length&&e.push({name:(0,_.__)("Theme"),colors:n}),t&&t.length&&e.push({name:(0,_.__)("User"),colors:t}),e}),[t,n,r])}var kn=()=>{const[e="serif"]=yn("typography.fontFamily"),[t="black"]=yn("color.text"),[n="blue"]=yn("elements.link.color.text"),[r="white"]=yn("color.background"),[a]=yn("color.gradient");return(0,o.createElement)(p.Card,{className:"edit-site-global-styles-preview",style:{background:null!=a?a:r}},(0,o.createElement)(p.__experimentalHStack,{spacing:5},(0,o.createElement)("div",{style:{fontFamily:e,fontSize:"80px",color:t}},"Aa"),(0,o.createElement)(p.__experimentalVStack,{spacing:2},(0,o.createElement)(p.ColorIndicator,{colorValue:t}),(0,o.createElement)(p.ColorIndicator,{colorValue:n}))))},Tn=function({icon:e,size:t=24,...n}){return(0,o.cloneElement)(e,{width:t,height:t,...n})},xn=function({path:e,icon:t,children:n,isBack:r=!1,...a}){const l=(0,p.__experimentalUseNavigator)();return(0,o.createElement)(p.__experimentalItem,Y({onClick:()=>l.push(e,{isBack:r})},a),t&&(0,o.createElement)(p.__experimentalHStack,{justify:"flex-start"},(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(Tn,{icon:t,size:24})),(0,o.createElement)(p.FlexItem,null,n)),!t&&n)},In=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z"})),Cn=(0,o.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(h.Path,{d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z"})),Pn=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));const Nn=[];function Mn(e){return[An(e),Bn(e),Rn(e),Ln(e)].some(Boolean)}function An(e){const t=Sn(e);return vn("border.color",e)[0]&&t.includes("borderColor")}function Bn(e){const t=Sn(e);return vn("border.radius",e)[0]&&t.includes("borderRadius")}function Rn(e){const t=Sn(e);return vn("border.style",e)[0]&&t.includes("borderStyle")}function Ln(e){const t=Sn(e);return vn("border.width",e)[0]&&t.includes("borderWidth")}function On({name:e}){const t=(0,p.__experimentalUseCustomUnits)({availableUnits:vn("spacing.units")[0]||["px","em","rem"]}),n=Ln(e),[r,a]=yn("border.width",e),l=Rn(e),[s,i]=yn("border.style",e),[c=Nn]=vn("color.palette"),u=!vn("color.custom")[0],m=!vn("color.customGradient")[0],d=An(e),[E,g]=yn("border.color",e),f=Bn(e),[h,v]=yn("border.radius",e);return(0,o.createElement)(p.PanelBody,{title:(0,_.__)("Border"),initialOpen:!0},(n||l)&&(0,o.createElement)("div",{className:"edit-site-global-styles-sidebar__border-controls-row"},n&&(0,o.createElement)(p.__experimentalUnitControl,{value:r,label:(0,_.__)("Width"),min:0,onChange:e=>{a(e||void 0)},units:t}),l&&(0,o.createElement)(Ct.__experimentalBorderStyleControl,{value:s,onChange:i})),d&&(0,o.createElement)(Ct.__experimentalColorGradientControl,{label:(0,_.__)("Color"),colorValue:E,colors:c,gradients:void 0,disableCustomColors:u,disableCustomGradients:m,onColorChange:g}),f&&(0,o.createElement)(Ct.__experimentalBorderRadiusControl,{values:h,onChange:v}))}function Dn(e){const t=Sn(e);return t.includes("color")||t.includes("backgroundColor")||t.includes("background")||t.includes("linkColor")}const Fn=["horizontal","vertical"];function Vn(e){const t=zn(e),n=Gn(e),r=Un(e);return t||n||r}function zn(e){const t=Sn(e),[n]=vn("spacing.padding",e);return n&&t.includes("padding")}function Gn(e){const t=Sn(e),[n]=vn("spacing.margin",e);return n&&t.includes("margin")}function Un(e){const t=Sn(e),[n]=vn("spacing.blockGap",e);return n&&t.includes("--wp--style--block-gap")}function Hn(e,t){if(!t)return e;const n={};return t.forEach((t=>{"vertical"===t&&(n.top=e.top,n.bottom=e.bottom),"horizontal"===t&&(n.left=e.left,n.right=e.right),n[t]=e[t]})),n}function $n(e){return e&&"string"==typeof e?{top:e,right:e,bottom:e,left:e}:e}function Wn({name:e}){const t=zn(e),n=Gn(e),r=Un(e),a=(0,p.__experimentalUseCustomUnits)({availableUnits:vn("spacing.units",e)[0]||["%","px","em","rem","vw"]}),[l,s]=yn("spacing.padding",e),i=$n(l),c=(0,Ct.__experimentalUseCustomSides)(e,"padding"),u=c&&c.some((e=>Fn.includes(e))),m=e=>{const t=Hn(e,c);s(t)},d=()=>m({}),[E,g]=yn("spacing.margin",e),f=$n(E),h=(0,Ct.__experimentalUseCustomSides)(e,"margin"),v=h&&h.some((e=>Fn.includes(e))),y=e=>{const t=Hn(e,h);g(t)},b=()=>y({}),[S,w]=yn("spacing.blockGap",e),k=()=>w(void 0);return(0,o.createElement)(p.__experimentalToolsPanel,{label:(0,_.__)("Dimensions"),resetAll:()=>{d(),b(),k()}},t&&(0,o.createElement)(p.__experimentalToolsPanelItem,{hasValue:()=>!!i&&Object.keys(i).length,label:(0,_.__)("Padding"),onDeselect:d,isShownByDefault:!0},(0,o.createElement)(p.__experimentalBoxControl,{values:i,onChange:m,label:(0,_.__)("Padding"),sides:c,units:a,allowReset:!1,splitOnAxis:u})),n&&(0,o.createElement)(p.__experimentalToolsPanelItem,{hasValue:()=>!!f&&Object.keys(f).length,label:(0,_.__)("Margin"),onDeselect:b,isShownByDefault:!0},(0,o.createElement)(p.__experimentalBoxControl,{values:f,onChange:y,label:(0,_.__)("Margin"),sides:h,units:a,allowReset:!1,splitOnAxis:v})),r&&(0,o.createElement)(p.__experimentalToolsPanelItem,{hasValue:()=>!!S,label:(0,_.__)("Block spacing"),onDeselect:k,isShownByDefault:!0},(0,o.createElement)(p.__experimentalUnitControl,{label:(0,_.__)("Block spacing"),__unstableInputWidth:"80px",min:0,onChange:w,units:a,value:S})))}function jn(e){const t=Yn(e),n=qn(e),r=Xn(e),a=Sn(e);return t||n||r||a.includes("fontSize")}function Yn(e){const t=Sn(e);return vn("typography.lineHeight",e)[0]&&t.includes("lineHeight")}function qn(e){const t=Sn(e),n=vn("typography.fontStyle",e)[0]&&t.includes("fontStyle"),r=vn("typography.fontWeight",e)[0]&&t.includes("fontWeight");return n||r}function Xn(e){const t=Sn(e);return vn("typography.letterSpacing",e)[0]&&t.includes("letterSpacing")}function Kn({name:e}){const t=Sn(e),[n]=vn("typography.fontSizes",e),r=!vn("typography.customFontSize",e)[0],[a]=vn("typography.fontFamilies",e),l=vn("typography.fontStyle",e)[0]&&t.includes("fontStyle"),s=vn("typography.fontWeight",e)[0]&&t.includes("fontWeight"),i=Yn(e),c=qn(e),u=Xn(e),[m,d]=yn("typography.fontFamily",e),[_,E]=yn("typography.fontSize",e),[g,f]=yn("typography.fontStyle",e),[h,v]=yn("typography.fontWeight",e),[y,b]=yn("typography.lineHeight",e),[S,w]=yn("typography.letterSpacing",e);return(0,o.createElement)(p.PanelBody,{className:"edit-site-typography-panel",initialOpen:!0},t.includes("fontFamily")&&(0,o.createElement)(Ct.__experimentalFontFamilyControl,{fontFamilies:a,value:m,onChange:d}),t.includes("fontSize")&&(0,o.createElement)(p.FontSizePicker,{value:_,onChange:E,fontSizes:n,disableCustomFontSizes:r}),i&&(0,o.createElement)(Ct.LineHeightControl,{value:y,onChange:b}),c&&(0,o.createElement)(Ct.__experimentalFontAppearanceControl,{value:{fontStyle:g,fontWeight:h},onChange:({fontStyle:e,fontWeight:t})=>{f(e),v(t)},hasFontStyles:l,hasFontWeights:s}),u&&(0,o.createElement)(Ct.__experimentalLetterSpacingControl,{value:S,onChange:w}))}var Qn=function({name:e,parentMenu:t=""}){const n=jn(e),r=Dn(e),a=Mn(e),l=Vn(e),s=a||l;return(0,o.createElement)(p.__experimentalItemGroup,null,n&&(0,o.createElement)(xn,{icon:In,path:t+"/typography"},(0,_.__)("Typography")),r&&(0,o.createElement)(xn,{icon:Cn,path:t+"/colors"},(0,_.__)("Colors")),s&&(0,o.createElement)(xn,{icon:Pn,path:t+"/layout"},(0,_.__)("Layout")))},Jn=function(){return(0,o.createElement)(p.Card,{size:"small"},(0,o.createElement)(p.CardBody,null,(0,o.createElement)(kn,null)),(0,o.createElement)(p.CardBody,null,(0,o.createElement)(Qn,null)),(0,o.createElement)(p.CardDivider,null),(0,o.createElement)(p.CardBody,null,(0,o.createElement)(p.__experimentalItemGroup,null,(0,o.createElement)(p.__experimentalItem,null,(0,o.createElement)("p",null,(0,_.__)("Customize the appearance of specific blocks for the whole site."))),(0,o.createElement)(xn,{path:"/blocks"},(0,_.__)("Blocks")))))},Zn=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),er=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),tr=function({back:e,title:t,description:n}){return(0,o.createElement)(p.__experimentalVStack,{spacing:2},(0,o.createElement)(p.__experimentalHStack,{spacing:2},(0,o.createElement)(p.__experimentalView,null,(0,o.createElement)(xn,{path:e,icon:(0,o.createElement)(Tn,{icon:(0,_.isRTL)()?Zn:er,variant:"muted"}),size:"small",isBack:!0,"aria-label":(0,_.__)("Navigate to the previous view")})),(0,o.createElement)(p.__experimentalSpacer,null,(0,o.createElement)(p.__experimentalHeading,{level:5},t))),n&&(0,o.createElement)("p",{className:"edit-site-global-styles-header__description"},n))};function nr({block:e}){const t=jn(e.name),n=Dn(e.name),r=Mn(e.name),a=Vn(e.name);return t||n||r||a?(0,o.createElement)(xn,{path:"/blocks/"+e.name},e.title):null}var rr=function(){return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:"/",title:(0,_.__)("Blocks"),description:(0,_.__)("Customize the appearance of specific blocks and for the whole site.")}),(0,s.getBlockTypes)().map((e=>(0,o.createElement)(nr,{block:e,key:"menu-itemblock-"+e.name}))))},ar=function({name:e}){const t=(0,s.getBlockType)(e);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:"/blocks",title:t.title}),(0,o.createElement)(Qn,{parentMenu:"/blocks/"+e,name:e}))},lr=function({name:e}){const t=void 0===e?"":"/blocks/"+e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:t||"/",title:(0,_.__)("Typography"),description:(0,_.__)("Manage the fonts used on the website and the default aspect of different global elements.")}),(0,o.createElement)(Kn,{name:e}))},or=function({children:e}){return(0,o.createElement)(p.__experimentalHeading,{className:"edit-site-global-styles-subtitle",level:2},e)};const sr=[];var ir=function({name:e}){const[t]=vn("color.palette.user",e),n=t||sr,r=e?"/blocks/"+e+"/colors/palette":"/colors/palette";return(0,o.createElement)(p.__experimentalVStack,{spacing:3},(0,o.createElement)(or,null,(0,_.__)("Palette")),(0,o.createElement)(p.__experimentalItemGroup,{isBordered:!0,isSeparated:!0},(0,o.createElement)(xn,{path:r},(0,o.createElement)(p.__experimentalHStack,null,(0,o.createElement)(p.FlexBlock,null,(0,o.createElement)(p.__experimentalZStack,{isLayered:!1,offset:-8},n.slice(0,5).map((({color:e})=>(0,o.createElement)(p.ColorIndicator,{key:e,colorValue:e}))))),(0,o.createElement)(p.FlexItem,null,(0,_.sprintf)(// Translators: %d: Number of palette colors.
(0,_._n)("%d color","%d colors",n.length),n.length))))))};function cr({name:e,parentMenu:t}){const n=Sn(e),r=n.includes("backgroundColor")||n.includes("background"),[a]=yn("color.background",e),[l]=yn("color.gradient",e);return r?(0,o.createElement)(xn,{path:t+"/colors/background"},(0,o.createElement)(p.__experimentalHStack,{justify:"flex-start"},(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(p.ColorIndicator,{colorValue:null!=l?l:a})),(0,o.createElement)(p.FlexItem,null,(0,_.__)("Background")))):null}function ur({name:e,parentMenu:t}){const n=Sn(e).includes("color"),[r]=yn("color.text",e);return n?(0,o.createElement)(xn,{path:t+"/colors/text"},(0,o.createElement)(p.__experimentalHStack,{justify:"flex-start"},(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(p.ColorIndicator,{colorValue:r})),(0,o.createElement)(p.FlexItem,null,(0,_.__)("Text")))):null}function mr({name:e,parentMenu:t}){const n=Sn(e).includes("linkColor"),[r]=yn("elements.link.color.text",e);return n?(0,o.createElement)(xn,{path:t+"/colors/link"},(0,o.createElement)(p.__experimentalHStack,{justify:"flex-start"},(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(p.ColorIndicator,{colorValue:r})),(0,o.createElement)(p.FlexItem,null,(0,_.__)("Links")))):null}var dr=function({name:e}){const t=void 0===e?"":"/blocks/"+e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:t||"/",title:(0,_.__)("Colors"),description:(0,_.__)("Manage palettes and the default color of different global elements on the website.")}),(0,o.createElement)("div",{className:"edit-site-global-styles-screen-colors"},(0,o.createElement)(p.__experimentalVStack,{spacing:10},(0,o.createElement)(ir,{name:e}),(0,o.createElement)(p.__experimentalVStack,{spacing:3},(0,o.createElement)(or,null,(0,_.__)("Elements")),(0,o.createElement)(p.__experimentalItemGroup,{isBordered:!0,isSeparated:!0},(0,o.createElement)(cr,{name:e,parentMenu:t}),(0,o.createElement)(ur,{name:e,parentMenu:t}),(0,o.createElement)(mr,{name:e,parentMenu:t}))))))};function pr({name:e}){const[t,n]=vn("color.palette",e,"user");return(0,o.createElement)("div",{className:"edit-site-global-styles-color-palette-panel"},(0,o.createElement)(p.__experimentalColorEdit,{colors:t,onChange:n}))}var _r=function({name:e}){const t=void 0===e?"":"/blocks/"+e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:t+"/colors",title:(0,_.__)("Color Palette"),description:(0,_.__)("Color palettes are used to provide default color options for blocks and various design tools. Here you can edit the colors with their labels.")}),(0,o.createElement)(pr,{name:e}))},Er=function({name:e}){const t=void 0===e?"":"/blocks/"+e,n=Sn(e),[r]=vn("color.palette",e),[a]=vn("color.gradients",e),[l]=vn("color.custom",e),[s]=vn("color.customGradient",e),i=wn(e),c=function(e){const[t]=vn("color.gradients.user",e),[n]=vn("color.gradients.theme",e),[r]=vn("color.gradients.core",e);return(0,o.useMemo)((()=>{const e=[];return r&&r.length&&e.push({name:(0,_.__)("Core"),gradients:r}),n&&n.length&&e.push({name:(0,_.__)("Theme"),gradients:n}),t&&t.length&&e.push({name:(0,_.__)("User"),gradients:t}),e}),[t,n,r])}(e),[u]=vn("color.background",e),m=n.includes("backgroundColor")&&u&&(r.length>0||l),d=n.includes("background")&&(a.length>0||s),[p,E]=yn("color.background",e),[g]=yn("color.background",e,"user"),[f,h]=yn("color.gradient",e),[v]=yn("color.gradient",e,"user");if(!m&&!d)return null;const y=[];let b={};m&&(b={colorValue:p,onColorChange:E},p&&(b.clearable=p===g));let S={};return d&&(S={gradientValue:f,onGradientChange:h},f&&(S.clearable=f===v)),y.push({...b,...S,label:(0,_.__)("Background color")}),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:t+"/colors",title:(0,_.__)("Background"),description:(0,_.__)("Set a background color or gradient for the whole website.")}),(0,o.createElement)(Ct.__experimentalPanelColorGradientSettings,{title:(0,_.__)("Color"),settings:y,colors:i,gradients:c,disableCustomColors:!l,disableCustomGradients:!s,__experimentalHasMultipleOrigins:!0,showTitle:!1}))},gr=function({name:e}){const t=void 0===e?"":"/blocks/"+e,n=Sn(e),[r]=vn("color.palette",e),[a]=vn("color.custom",e),[l]=vn("color.text",e),s=wn(e),i=n.includes("color")&&l&&(r.length>0||a),[c,u]=yn("color.text",e),[m]=yn("color.text",e,"user");if(!i)return null;const d=[{colorValue:c,onColorChange:u,label:(0,_.__)("Text color"),clearable:c===m}];return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:t+"/colors",title:(0,_.__)("Text"),description:(0,_.__)("Set the default color used for text across the site.")}),(0,o.createElement)(Ct.__experimentalPanelColorGradientSettings,{title:(0,_.__)("Color"),settings:d,colors:s,disableCustomColors:!a,__experimentalHasMultipleOrigins:!0,showTitle:!1}))},fr=function({name:e}){const t=void 0===e?"":"/blocks/"+e,n=Sn(e),[r]=vn("color.palette",e),[a]=vn("color.custom",e),l=wn(e),[s]=vn("color.link",e),i=n.includes("linkColor")&&s&&(r.length>0||a),[c,u]=yn("elements.link.color.text",e),[m]=yn("elements.link.color.text",e,"user");if(!i)return null;const d=[{colorValue:c,onColorChange:u,label:(0,_.__)("Link color"),clearable:c===m}];return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:t+"/colors",title:(0,_.__)("Links"),description:(0,_.__)("Set the default color used for links across the site.")}),(0,o.createElement)(Ct.__experimentalPanelColorGradientSettings,{title:(0,_.__)("Color"),settings:d,colors:l,disableCustomColors:!a,__experimentalHasMultipleOrigins:!0,showTitle:!1}))},hr=function({name:e}){const t=void 0===e?"":"/blocks/"+e,n=Mn(e),r=Vn(e);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(tr,{back:t||"/",title:(0,_.__)("Layout")}),r&&(0,o.createElement)(Wn,{name:e}),n&&(0,o.createElement)(On,{name:e}))};function vr({name:e}){const t=void 0===e?"":"/blocks/"+e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(p.__experimentalNavigatorScreen,{path:t+"/typography"},(0,o.createElement)(lr,{name:e})),(0,o.createElement)(p.__experimentalNavigatorScreen,{path:t+"/colors"},(0,o.createElement)(dr,{name:e})),(0,o.createElement)(p.__experimentalNavigatorScreen,{path:t+"/colors/palette"},(0,o.createElement)(_r,{name:e})),(0,o.createElement)(p.__experimentalNavigatorScreen,{path:t+"/colors/background"},(0,o.createElement)(Er,{name:e})),(0,o.createElement)(p.__experimentalNavigatorScreen,{path:t+"/colors/text"},(0,o.createElement)(gr,{name:e})),(0,o.createElement)(p.__experimentalNavigatorScreen,{path:t+"/colors/link"},(0,o.createElement)(fr,{name:e})),(0,o.createElement)(p.__experimentalNavigatorScreen,{path:t+"/layout"},(0,o.createElement)(hr,{name:e})))}var yr=function(){const e=(0,s.getBlockTypes)();return(0,o.createElement)(p.__experimentalNavigatorProvider,{initialPath:"/"},(0,o.createElement)(p.__experimentalNavigatorScreen,{path:"/"},(0,o.createElement)(Jn,null)),(0,o.createElement)(p.__experimentalNavigatorScreen,{path:"/blocks"},(0,o.createElement)(rr,null)),e.map((e=>(0,o.createElement)(p.__experimentalNavigatorScreen,{key:"menu-block-"+e.name,path:"/blocks/"+e.name},(0,o.createElement)(ar,{name:e.name})))),(0,o.createElement)(vr,null),e.map((e=>(0,o.createElement)(vr,{key:"screens-block-"+e.name,name:e.name}))))};function br(e){const t="var:";return(0,y.startsWith)(e,t)?`var(--wp--${e.slice(t.length).split("|").join("--")})`:e}function Sr(e={},t,n){let r=[];return Object.keys(e).forEach((a=>{const l=t+(0,y.kebabCase)(a.replace("/","-")),o=e[a];if(o instanceof Object){const e=l+n;r=[...r,...Sr(o,e,n)]}else r.push(`${l}: ${o}`)})),r}const wr=(e,t)=>{var n,r;const a=[];if(null==e||!e.settings)return a;const l=e=>{const t={};return dn.forEach((({path:n})=>{const r=(0,y.get)(e,n,!1);!1!==r&&(0,y.set)(t,n,r)})),t},o=l(e.settings),s=null===(n=e.settings)||void 0===n?void 0:n.custom;return(0,y.isEmpty)(o)&&!s||a.push({presets:o,custom:s,selector:mn}),(0,y.forEach)(null===(r=e.settings)||void 0===r?void 0:r.blocks,((e,n)=>{const r=l(e),o=e.custom;(0,y.isEmpty)(r)&&!o||a.push({presets:r,custom:o,selector:t[n].selector})})),a},kr=(e,t)=>{const n=wr(e,t);let r="";return n.forEach((({presets:e,custom:t,selector:n})=>{const a=function(e={}){return(0,y.reduce)(dn,((t,{path:n,valueKey:r,cssVarInfix:a})=>{const l=(0,y.get)(e,n,[]);return["core","theme","user"].forEach((e=>{l[e]&&l[e].forEach((e=>{t.push(`--wp--preset--${a}--${(0,y.kebabCase)(e.slug)}: ${e[r]}`)}))})),t}),[])}(e),l=Sr(t,"--wp--custom--","--");l.length>0&&a.push(...l),a.length>0&&(r+=`${n}{${a.join(";")};}`)})),r};function Tr(){const[e,t]=(()=>{const{user:e,setUserConfig:t}=(0,o.useContext)(fn);return[!!e&&!(0,y.isEqual)(e,hn),(0,o.useCallback)((()=>t((()=>hn))),[t])]})();return(0,o.createElement)(cn,{className:"edit-site-global-styles-sidebar",identifier:"edit-site/global-styles",title:(0,_.__)("Styles"),icon:un,closeLabel:(0,_.__)("Close global styles sidebar"),header:(0,o.createElement)(p.Flex,null,(0,o.createElement)(p.FlexBlock,null,(0,o.createElement)("strong",null,(0,_.__)("Styles")),(0,o.createElement)("span",{className:"edit-site-global-styles-sidebar__beta"},(0,_.__)("Beta"))),(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(p.DropdownMenu,{icon:Lt,label:(0,_.__)("More Global Styles Actions"),toggleProps:{disabled:!e},controls:[{title:(0,_.__)("Reset to defaults"),onClick:t}]})))},(0,o.createElement)(yr,null))}const xr="edit-site/template",Ir="edit-site/block-inspector";var Cr=({sidebarName:e})=>{const{enableComplementaryArea:t}=(0,c.useDispatch)(he),[n,r]=e===xr?// translators: ARIA label for the Template sidebar tab, selected.
[(0,_.__)("Template (selected)"),"is-active"]:// translators: ARIA label for the Template Settings Sidebar tab, not selected.
[(0,_.__)("Template"),""],[a,l]=e===Ir?// translators: ARIA label for the Block Settings Sidebar tab, selected.
[(0,_.__)("Block (selected)"),"is-active"]:// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[(0,_.__)("Block"),""];return(0,o.createElement)("ul",null,(0,o.createElement)("li",null,(0,o.createElement)(p.Button,{onClick:()=>t(C,xr),className:`edit-site-sidebar__panel-tab ${r}`,"aria-label":n,"data-label":(0,_.__)("Template")},// translators: Text label for the Template Settings Sidebar tab.
(0,_.__)("Template"))),(0,o.createElement)("li",null,(0,o.createElement)(p.Button,{onClick:()=>t(C,Ir),className:`edit-site-sidebar__panel-tab ${l}`,"aria-label":a,"data-label":(0,_.__)("Block")},// translators: Text label for the Block Settings Sidebar tab.
(0,_.__)("Block"))))};function Pr({area:e,clientId:t}){const{selectBlock:n,toggleBlockHighlight:r}=(0,c.useDispatch)(Ct.store),a=()=>r(t,!0),l=()=>r(t,!1);return(0,o.createElement)(p.Button,{className:"edit-site-template-card__template-areas-item",icon:(0,Pt.getTemplatePartIcon)(e),onMouseOver:a,onMouseLeave:l,onFocus:a,onBlur:l,onClick:()=>{n(t)}},B[e])}function Nr(){const e=(0,c.useSelect)((e=>e(It).getCurrentTemplateTemplateParts()),[]);return e.length?(0,o.createElement)("section",{className:"edit-site-template-card__template-areas"},(0,o.createElement)(p.__experimentalHeading,{level:3,className:"edit-site-template-card__template-areas-title"},(0,_.__)("Areas")),(0,o.createElement)("ul",{className:"edit-site-template-card__template-areas-list"},e.map((({templatePart:e,block:t})=>(0,o.createElement)("li",{key:e.slug},(0,o.createElement)(Pr,{area:e.area,clientId:t.clientId})))))):null}function Mr(){const{title:e,description:t,icon:n}=(0,c.useSelect)((e=>{const{getEditedPostType:t,getEditedPostId:n}=e(It),{getEntityRecord:r}=e(u.store),{__experimentalGetTemplateInfo:a}=e(Pt.store),l=r("postType",t(),n());return l?a(l):{}}),[]);return e||t?(0,o.createElement)("div",{className:"edit-site-template-card"},(0,o.createElement)(p.Icon,{className:"edit-site-template-card__icon",icon:n}),(0,o.createElement)("div",{className:"edit-site-template-card__content"},(0,o.createElement)("h2",{className:"edit-site-template-card__title"},e),(0,o.createElement)("div",{className:"edit-site-template-card__description"},t),(0,o.createElement)(Nr,null))):null}const{Slot:Ar,Fill:Br}=(0,p.createSlotFill)("EditSiteSidebarInspector"),Rr=Br;function Lr(){const{sidebar:e,isEditorSidebarOpened:t,hasBlockSelection:n}=(0,c.useSelect)((e=>{const t=e(he).getActiveComplementaryArea(C);return{sidebar:t,isEditorSidebarOpened:[Ir,xr].includes(t),hasBlockSelection:!!e(Ct.store).getBlockSelectionStart()}}),[]),{enableComplementaryArea:r}=(0,c.useDispatch)(he);(0,o.useEffect)((()=>{t&&r(C,n?Ir:xr)}),[n,t]);let a=e;return t||(a=n?Ir:xr),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(cn,{identifier:a,title:(0,_.__)("Settings"),icon:sn,closeLabel:(0,_.__)("Close settings sidebar"),header:(0,o.createElement)(Cr,{sidebarName:a}),headerClassName:"edit-site-sidebar__panel-tabs"},a===xr&&(0,o.createElement)(p.PanelBody,null,(0,o.createElement)(Mr,null)),a===Ir&&(0,o.createElement)(Ar,{bubblesVirtually:!0})),(0,o.createElement)(Tr,null))}function Or({clientId:e}){const{getBlocks:t}=(0,c.useSelect)(Ct.store),{replaceBlocks:n}=(0,c.useDispatch)(Ct.store);return(0,o.createElement)(Ct.BlockSettingsMenuControls,null,(({onClose:r})=>(0,o.createElement)(p.MenuItem,{onClick:()=>{n(e,t(e)),r()}},(0,_.__)("Detach blocks from template part"))))}function Dr({clientIds:e,blocks:t}){const n=(0,Re.useInstanceId)(Dr),[r,a]=(0,o.useState)(!1),[l,i]=(0,o.useState)(""),{replaceBlocks:m}=(0,c.useDispatch)(Ct.store),{saveEntityRecord:d}=(0,c.useDispatch)(u.store),{createSuccessNotice:E}=(0,c.useDispatch)(j.store),[g,f]=(0,o.useState)(A),h=(0,c.useSelect)((e=>e(Pt.store).__experimentalGetDefaultTemplatePartAreas()),[]);return(0,o.createElement)(Ct.BlockSettingsMenuControls,null,(({onClose:c})=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(p.MenuItem,{onClick:()=>{a(!0)}},(0,_.__)("Make template part")),r&&(0,o.createElement)(p.Modal,{title:(0,_.__)("Create a template part"),closeLabel:(0,_.__)("Close"),onRequestClose:()=>{a(!1),i("")},overlayClassName:"edit-site-template-part-converter__modal"},(0,o.createElement)("form",{onSubmit:n=>{n.preventDefault(),(async n=>{const r=(0,_.__)("Untitled Template Part"),a=await d("postType","wp_template_part",{slug:(0,y.kebabCase)(n||r),title:n||r,content:(0,s.serialize)(t),area:g});m(e,(0,s.createBlock)("core/template-part",{slug:a.slug,theme:a.theme})),E((0,_.__)("Template part created."),{type:"snackbar"})})(l),a(!1),i(""),c()}},(0,o.createElement)(p.TextControl,{label:(0,_.__)("Name"),value:l,onChange:i}),(0,o.createElement)(p.BaseControl,{label:(0,_.__)("Area"),id:`edit-site-template-part-converter__area-selection-${n}`,className:"edit-site-template-part-converter__area-base-control"},(0,o.createElement)(p.__experimentalRadioGroup,{label:(0,_.__)("Area"),className:"edit-site-template-part-converter__area-radio-group",id:`edit-site-template-part-converter__area-selection-${n}`,onChange:f,checked:g},h.map((({icon:e,label:t,area:n,description:r})=>(0,o.createElement)(p.__experimentalRadio,{key:t,value:n,className:"edit-site-template-part-converter__area-radio"},(0,o.createElement)(p.Flex,{align:"start",justify:"start"},(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(p.Icon,{icon:e})),(0,o.createElement)(p.FlexBlock,{className:"edit-site-template-part-converter__option-label"},t,(0,o.createElement)("div",null,r)),(0,o.createElement)(p.FlexItem,{className:"edit-site-template-part-converter__checkbox"},g===n&&(0,o.createElement)(p.Icon,{icon:K})))))))),(0,o.createElement)(p.Flex,{className:"edit-site-template-part-converter__convert-modal-actions",justify:"flex-end"},(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(p.Button,{variant:"secondary",onClick:()=>{a(!1),i("")}},(0,_.__)("Cancel"))),(0,o.createElement)(p.FlexItem,null,(0,o.createElement)(p.Button,{variant:"primary",type:"submit"},(0,_.__)("Create")))))))))}function Fr(){var e;const{clientIds:t,blocks:n}=(0,c.useSelect)((e=>{const{getSelectedBlockClientIds:t,getBlocksByClientId:n}=e(Ct.store),r=t();return{clientIds:r,blocks:n(r)}}),[]);return 1===n.length&&"core/template-part"===(null===(e=n[0])||void 0===e?void 0:e.name)?(0,o.createElement)(Or,{clientId:t[0]}):(0,o.createElement)(Dr,{clientIds:t,blocks:n})}var Vr=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));function zr({type:e,id:t,activePage:n,onActivePageChange:r}){const a=(0,c.useSelect)((n=>e&&t&&"URL"!==e&&n(u.store).getEntityRecord("postType",e,t)),[e,t]),l=(0,o.useMemo)((()=>{if(null==a||!a.link)return null;const t=(0,W.getPathAndQueryString)(a.link);return t===(null==n?void 0:n.path)?null:()=>r({type:e,slug:a.slug,path:t,context:{postType:a.type,postId:a.id}})}),[a,null==n?void 0:n.path,r]);return l&&(0,o.createElement)(p.Button,{icon:Vr,label:(0,_.__)("Edit Page Template"),onClick:l})}function Gr({onClick:e=(()=>{})}){const{shortcut:t,isBlockInspectorOpen:n}=(0,c.useSelect)((e=>({shortcut:e(Nt.store).getShortcutRepresentation("core/edit-site/toggle-block-settings-sidebar"),isBlockInspectorOpen:e(he).getActiveComplementaryArea(It.name)===Ir})),[]),{enableComplementaryArea:r,disableComplementaryArea:a}=(0,c.useDispatch)(he),l=n?(0,_.__)("Hide more settings"):(0,_.__)("Show more settings");return(0,o.createElement)(p.MenuItem,{onClick:()=>{n?(a(C),(0,Ot.speak)((0,_.__)("Block settings closed"))):(r(C,Ir),(0,Ot.speak)((0,_.__)("Additional settings are now available in the Editor block settings sidebar"))),e()},shortcut:t},l)}function Ur(){return(0,o.createElement)(Ct.BlockSettingsMenuControls,null,(({selectedClientIds:e,onClose:t})=>(0,o.createElement)(Hr,{selectedClientId:e[0],onClose:t})))}function Hr({selectedClientId:e,onClose:t}){const n=(0,c.useSelect)((t=>{const n=t(Ct.store).getBlock(e);if(n&&(0,s.isTemplatePart)(n)){const{theme:e,slug:r}=n.attributes;return t(u.store).getEntityRecord("postType","wp_template_part",`${e}//${r}`)}}),[e]),{pushTemplatePart:r}=(0,c.useDispatch)(It);return n?(0,o.createElement)(p.MenuItem,{onClick:()=>{r(n.id),t()}},
/* translators: %s: template part title */
(0,_.sprintf)((0,_.__)("Edit %s"),n.slug)):null}var $r=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M20 10.8H6.7l4.1-4.5-1.1-1.1-5.8 6.3 5.8 5.8 1.1-1.1-4-3.9H20z"})),Wr=function(){const{isTemplatePart:e,previousTemplateId:t}=(0,c.useSelect)((e=>{const{getEditedPostType:t,getPreviousEditedPostId:n}=e(It);return{isTemplatePart:"wp_template_part"===t(),previousTemplateId:n()}}),[]),{goBack:n}=(0,c.useDispatch)(It);return e&&t?(0,o.createElement)(p.Button,{className:"edit-site-visual-editor__back-button",icon:$r,onClick:()=>{n()}},(0,_.__)("Back")):null};function jr({direction:e,resizeWidthBy:t}){return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("button",{className:`resizable-editor__drag-handle is-${e}`,"aria-label":(0,_.__)("Drag to resize"),"aria-describedby":`resizable-editor__resize-help-${e}`,onKeyDown:function(n){const{keyCode:r}=n;"left"===e&&r===$t.LEFT||"right"===e&&r===$t.RIGHT?t(20):("left"===e&&r===$t.RIGHT||"right"===e&&r===$t.LEFT)&&t(-20)}}),(0,o.createElement)(p.VisuallyHidden,{id:`resizable-editor__resize-help-${e}`},(0,_.__)("Use left and right arrow keys to resize the canvas.")))}const Yr={position:void 0,userSelect:void 0,cursor:void 0,width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0};var qr=function({enableResizing:e,settings:t,...n}){const r=(0,c.useSelect)((e=>e(It).__experimentalGetPreviewDeviceType()),[]),a=(0,Ct.__experimentalUseResizeCanvas)(r),[l,s]=(0,o.useState)("100%"),[i,u]=(0,o.useState)("100%"),m=(0,o.useRef)(),d=(0,Ct.__unstableUseMouseMoveTypingReset)(),_=(0,Re.useMergeRefs)([m,d]);(0,o.useEffect)((function(){const t=m.current;if(!t||!e)return;const n=new t.contentWindow.ResizeObserver((()=>{u(t.contentDocument.querySelector(".edit-site-block-editor__block-list").offsetHeight)}));return n.observe(t.contentDocument.documentElement),()=>{n.disconnect()}}),[e]);const E=(0,o.useCallback)((e=>{m.current&&s(m.current.offsetWidth+e)}),[]);return(0,o.createElement)(p.ResizableBox,{size:{width:l,height:i},onResizeStop:(e,t,n)=>{s(n.style.width)},minWidth:300,maxWidth:"100%",maxHeight:"100%",enable:{right:e,left:e},showHandle:e,resizeRatio:2,handleComponent:{left:(0,o.createElement)(jr,{direction:"left",resizeWidthBy:E}),right:(0,o.createElement)(jr,{direction:"right",resizeWidthBy:E})},handleClasses:void 0,handleStyles:{left:Yr,right:Yr}},(0,o.createElement)(Ct.__unstableIframe,Y({style:e?void 0:a,head:(0,o.createElement)(o.Fragment,null,(0,o.createElement)(Ct.__unstableEditorStyles,{styles:t.styles}),(0,o.createElement)("style",null,".edit-site-block-editor__block-list { display: flow-root; }")),ref:_,name:"editor-canvas",className:"edit-site-visual-editor__editor-canvas"},n)))};const Xr={type:"default",alignments:[]};function Kr({setIsInserterOpen:e}){const{settings:t,templateType:n,templateId:r,page:a}=(0,c.useSelect)((t=>{const{getSettings:n,getEditedPostType:r,getEditedPostId:a,getPage:l}=t(It);return{settings:n(e),templateType:r(),templateId:a(),page:l()}}),[e]),[l,s,i]=(0,u.useEntityBlockEditor)("postType",n),{setPage:m}=(0,c.useDispatch)(It),d=(0,o.useRef)(),p=(0,Re.useMergeRefs)([d,(0,Ct.__unstableUseTypingObserver)()]),_=(0,Re.useViewportMatch)("small","<"),{clearSelectedBlock:E}=(0,c.useDispatch)(Ct.store),g="wp_template_part"===n;return(0,o.createElement)(Ct.BlockEditorProvider,{settings:t,value:l,onInput:s,onChange:i,useSubRegistry:!1},(0,o.createElement)(Ur,null),(0,o.createElement)(Fr,null),(0,o.createElement)(Ct.__experimentalLinkControl.ViewerFill,null,(0,o.useCallback)((e=>(0,o.createElement)(zr,Y({},e,{activePage:a,onActivePageChange:m}))),[a])),(0,o.createElement)(Rr,null,(0,o.createElement)(Ct.BlockInspector,null)),(0,o.createElement)(Ct.BlockTools,{className:X()("edit-site-visual-editor",{"is-focus-mode":g}),__unstableContentRef:d,onClick:e=>{e.target===e.currentTarget&&E()}},(0,o.createElement)(Wr,null),(0,o.createElement)(qr,{key:r,enableResizing:g&&!_,settings:t,contentRef:p},(0,o.createElement)(Ct.BlockList,{className:"edit-site-block-editor__block-list wp-site-blocks",__experimentalLayout:Xr})),(0,o.createElement)(Ct.__unstableBlockSettingsMenuFirstItem,null,(({onClose:e})=>(0,o.createElement)(Gr,{onClick:e})))))}function Qr({openEntitiesSavedStates:e}){const{__experimentalGetDirtyEntityRecords:t,isSavingEntityRecord:n}=(0,c.useSelect)(u.store),r=(0,c.useSelect)((e=>e(It).isListViewOpened()),[]),a=(0,c.useSelect)((e=>e(he).getActiveComplementaryArea(It.name)===Ir),[]),{redo:l,undo:o}=(0,c.useDispatch)(u.store),{setIsListViewOpened:s}=(0,c.useDispatch)(It),{enableComplementaryArea:i,disableComplementaryArea:m}=(0,c.useDispatch)(he);return(0,Nt.useShortcut)("core/edit-site/save",(r=>{r.preventDefault();const a=t(),l=!!a.length;!a.some((e=>n(e.kind,e.name,e.key)))&&l&&e()})),(0,Nt.useShortcut)("core/edit-site/undo",(e=>{o(),e.preventDefault()})),(0,Nt.useShortcut)("core/edit-site/redo",(e=>{l(),e.preventDefault()})),(0,Nt.useShortcut)("core/edit-site/toggle-list-view",(()=>{s(!r)})),(0,Nt.useShortcut)("core/edit-site/toggle-block-settings-sidebar",(e=>{e.preventDefault(),a?m(C):i(C,Ir)})),null}Qr.Register=function(){const{registerShortcut:e}=(0,c.useDispatch)(Nt.store);return(0,o.useEffect)((()=>{e({name:"core/edit-site/save",category:"global",description:(0,_.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-site/undo",category:"global",description:(0,_.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-site/redo",category:"global",description:(0,_.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"core/edit-site/toggle-list-view",category:"global",description:(0,_.__)("Open the block list view."),keyCombination:{modifier:"access",character:"o"}}),e({name:"core/edit-site/toggle-block-settings-sidebar",category:"global",description:(0,_.__)("Show or hide the block settings sidebar."),keyCombination:{modifier:"primaryShift",character:","}})}),[e]),null};var Jr=Qr;function Zr(){const{setTemplate:e,setTemplatePart:t,showHomepage:n,setPage:r}=(0,c.useDispatch)(It);(0,o.useEffect)((()=>{const a=window.location.href,l=(0,W.getQueryArg)(a,"postId");if(!l)return void n();const o=(0,W.getQueryArg)(a,"postType");"page"===o||"post"===o?r({context:{postType:o,postId:l}}):"wp_template"===o?e(l):"wp_template_part"===o?t(l):n()}),[]);const a=(0,c.useSelect)((e=>{var t,n;const{getEditedPostType:r,getEditedPostId:a,getPage:l}=e(It),o=l();let s=a(),i=r();return null!=o&&null!==(t=o.context)&&void 0!==t&&t.postId&&null!=o&&null!==(n=o.context)&&void 0!==n&&n.postType&&(s=o.context.postId,i=o.context.postType),s&&i?{postId:s,postType:i}:null}),[]);return(0,o.useEffect)((()=>{const e=a?(0,W.addQueryArgs)(window.location.href,a):(0,W.removeQueryArgs)(window.location.href,"postType","postId");window.history.replaceState({},"",e)}),[a]),null}var ea=(0,o.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(h.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function ta(){const{setIsInserterOpened:e}=(0,c.useDispatch)(It),t=(0,c.useSelect)((e=>e(It).__experimentalGetInsertionPoint()),[]),n=(0,Re.useViewportMatch)("medium","<"),[r,a]=(0,Re.__experimentalUseDialog)({onClose:()=>e(!1)});return(0,o.createElement)("div",Y({ref:r},a,{className:"edit-site-editor__inserter-panel"}),(0,o.createElement)("div",{className:"edit-site-editor__inserter-panel-header"},(0,o.createElement)(p.Button,{icon:ea,onClick:()=>e(!1)})),(0,o.createElement)("div",{className:"edit-site-editor__inserter-panel-content"},(0,o.createElement)(Ct.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:n,rootClientId:t.rootClientId,__experimentalInsertionIndex:t.insertionIndex,__experimentalFilterValue:t.filterValue})))}function na(){const{setIsListViewOpened:e}=(0,c.useDispatch)(It),{clearSelectedBlock:t,selectBlock:n}=(0,c.useDispatch)(Ct.store),r=(0,Re.useFocusOnMount)("firstElement"),a=(0,Re.useFocusReturn)(),l=`edit-site-editor__list-view-panel-label-${(0,Re.useInstanceId)(na)}`;return(0,o.createElement)("div",{"aria-labelledby":l,className:"edit-site-editor__list-view-panel",onKeyDown:function(t){t.keyCode!==$t.ESCAPE||t.defaultPrevented||e(!1)}},(0,o.createElement)("div",{className:"edit-site-editor__list-view-panel-header"},(0,o.createElement)("strong",{id:l},(0,_.__)("List view")),(0,o.createElement)(p.Button,{icon:ee,label:(0,_.__)("Close list view sidebar"),onClick:()=>e(!1)})),(0,o.createElement)("div",{className:"edit-site-editor__list-view-panel-content",ref:(0,Re.useMergeRefs)([a,r])},(0,o.createElement)(Ct.__experimentalListView,{onSelect:async function(e){await t(),n(e,-1)},showNestedBlocks:!0,__experimentalFeatures:!0,__experimentalPersistentListViewFeatures:!0})))}function ra({text:e,children:t}){const n=(0,Re.useCopyToClipboard)(e);return(0,o.createElement)(p.Button,{variant:"secondary",ref:n},t)}class aa extends o.Component{constructor(){super(...arguments),this.reboot=this.reboot.bind(this),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}reboot(){this.props.onError()}render(){const{error:e}=this.state;return e?(0,o.createElement)(Ct.Warning,{className:"editor-error-boundary",actions:[(0,o.createElement)(p.Button,{key:"recovery",onClick:this.reboot,variant:"secondary"},(0,_.__)("Attempt Recovery")),(0,o.createElement)(ra,{key:"copy-error",text:e.stack},(0,_.__)("Copy Error"))]},(0,_.__)("The editor has encountered an unexpected error.")):this.props.children}}function la(){const[e,t]=function(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)({}),{merged:a}=(0,o.useContext)(fn);return(0,o.useEffect)((()=>{if(null==a||!a.styles||null==a||!a.settings)return;const e=(e=>{const t={};return e.forEach((e=>{var n,r;const a=e.name,l=null!==(n=null==e||null===(r=e.supports)||void 0===r?void 0:r.__experimentalSelector)&&void 0!==n?n:".wp-block-"+a.replace("core/","").replace("/","-");t[a]={name:a,selector:l}})),t})((0,s.getBlockTypes)()),n=kr(a,e),l=((e,t)=>{const n=((e,t)=>{var n,r;const a=[];if(null==e||!e.styles)return a;const l=e=>(0,y.pickBy)(e,((e,t)=>["border","color","spacing","typography"].includes(t))),o=l(e.styles);return o&&a.push({styles:o,selector:mn}),(0,y.forEach)(null===(n=e.styles)||void 0===n?void 0:n.elements,((e,t)=>{e&&s.__EXPERIMENTAL_ELEMENTS[t]&&a.push({styles:e,selector:s.__EXPERIMENTAL_ELEMENTS[t]})})),(0,y.forEach)(null===(r=e.styles)||void 0===r?void 0:r.blocks,((e,n)=>{var r;const o=l(e);o&&null!=t&&null!==(r=t[n])&&void 0!==r&&r.selector&&a.push({styles:o,selector:t[n].selector}),(0,y.forEach)(null==e?void 0:e.elements,((e,r)=>{e&&null!=t&&t[n]&&null!==s.__EXPERIMENTAL_ELEMENTS&&void 0!==s.__EXPERIMENTAL_ELEMENTS&&s.__EXPERIMENTAL_ELEMENTS[r]&&a.push({styles:e,selector:t[n].selector.split(",").map((e=>e+" "+s.__EXPERIMENTAL_ELEMENTS[r])).join(",")})}))})),a})(e,t),r=wr(e,t);let a=".wp-site-blocks > * { margin-top: 0; margin-bottom: 0; }.wp-site-blocks > * + * { margin-top: var( --wp--style--block-gap ); }";return n.forEach((({selector:e,styles:t})=>{const n=function(e={}){return(0,y.reduce)(s.__EXPERIMENTAL_STYLE_PROPERTY,((t,{value:n,properties:r},a)=>{const l=n;if("elements"===(0,y.first)(l))return t;const o=(0,y.get)(e,l);if(r&&!(0,y.isString)(o))Object.entries(r).forEach((e=>{const[n,r]=e;if(!(0,y.get)(o,[r],!1))return;const a=(0,y.kebabCase)(n);t.push(`${a}: ${br((0,y.get)(o,[r]))}`)}));else if((0,y.get)(e,l,!1)){const n=a.startsWith("--")?a:(0,y.kebabCase)(a);t.push(`${n}: ${br((0,y.get)(e,l))}`)}return t}),[])}(t);0!==n.length&&(a+=`${e}{${n.join(";")};}`)})),r.forEach((({selector:e,presets:t})=>{mn===e&&(e="");const n=function(e,t={}){return(0,y.reduce)(dn,((n,{path:r,cssVarInfix:a,classes:l})=>{if(!l)return n;const o=(0,y.get)(t,r,[]);return["core","theme","user"].forEach((t=>{o[t]&&o[t].forEach((({slug:t})=>{l.forEach((({classSuffix:r,propertyName:l})=>{const o=`.has-${(0,y.kebabCase)(t)}-${r}`,s=e.split(",").map((e=>`${e}${o}`)).join(","),i=`var(--wp--preset--${a}--${(0,y.kebabCase)(t)})`;n+=`${s}{${l}: ${i} !important;}`}))}))})),n}),"")}(e,t);(0,y.isEmpty)(n)||(a+=n)})),a})(a,e);t([{css:n,isGlobalStyles:!0,__experimentalNoWrapper:!0},{css:l,isGlobalStyles:!0}]),r(a.settings)}),[a]),[e,n]}(),{getSettings:n}=(0,c.useSelect)(It),{updateSettings:r}=(0,c.useDispatch)(It);(0,o.useEffect)((()=>{var a;if(!e||!t)return;const l=n(),o=null==l||null===(a=l.styles)||void 0===a?void 0:a.filter((e=>!e.isGlobalStyles));r({...l,styles:[...o,...e],__experimentalFeatures:t})}),[e,t])}function oa(){return la(),null}function sa(e,t){if(Array.isArray(t))return t}function ia(e){const t=(0,y.cloneDeep)(e);return dn.forEach((({path:e})=>{const n=(0,y.get)(t,e);n&&(0,y.set)(t,e,{user:n})})),t}function ca(e){const t=(0,y.cloneDeep)(e);return dn.forEach((({path:e})=>{const n=(0,y.get)(t,e);n&&(0,y.set)(t,e,(null!=n?n:{}).user)})),t}const ua=e=>{if(!(0,y.isObject)(e)||Array.isArray(e))return e;const t=(0,y.pickBy)((0,y.mapValues)(e,ua),y.identity);return(0,y.isEmpty)(t)?void 0:t};function ma({children:e}){const t=function(){const[e,t,n]=function(){const{globalStylesId:e,settings:t,styles:n}=(0,c.useSelect)((e=>{const t=e(u.store).__experimentalGetCurrentGlobalStylesId(),n=t?e(u.store).getEditedEntityRecord("root","globalStyles",t):void 0;return{globalStylesId:t,settings:null==n?void 0:n.settings,styles:null==n?void 0:n.styles}}),[]),{getEditedEntityRecord:r}=(0,c.useSelect)(u.store),{editEntityRecord:a}=(0,c.useDispatch)(u.store),l=(0,o.useMemo)((()=>({settings:ia(null!=t?t:{}),styles:null!=n?n:{}})),[t,n]),s=(0,o.useCallback)((t=>{var n,l;const o=r("root","globalStyles",e),s=t({styles:null!==(n=null==o?void 0:o.styles)&&void 0!==n?n:{},settings:ia(null!==(l=null==o?void 0:o.settings)&&void 0!==l?l:{})});a("root","globalStyles",e,{styles:ua(s.styles)||{},settings:ua(ca(s.settings))||{}})}),[e]);return[!!t||!!n,l,s]}(),r=(0,c.useSelect)((e=>e(u.store).__experimentalGetCurrentThemeBaseGlobalStyles()),[]),a=(0,o.useMemo)((()=>{return r&&t?(e=r,n=t,(0,y.mergeWith)({},e,n,sa)):{};var e,n}),[t,r]);return(0,o.useMemo)((()=>({isReady:e,user:t,base:r,merged:a,setUserConfig:n})),[a,t,r,n,e])}();return t.isReady?(0,o.createElement)(fn.Provider,{value:t},e):null}const da={secondarySidebar:(0,_.__)("Block Library")};var pa=function({initialSettings:e,onError:t}){const{isInserterOpen:n,isListViewOpen:r,sidebarIsOpened:a,settings:l,entityId:s,templateType:i,page:m,template:d,templateResolved:g,isNavigationOpen:f}=(0,c.useSelect)((e=>{const{isInserterOpened:t,isListViewOpened:n,getSettings:r,getEditedPostType:a,getEditedPostId:l,getPage:o,isNavigationOpened:s}=e(It),{hasFinishedResolution:i,getEntityRecord:c}=e(u.store),m=a(),d=l();return{isInserterOpen:t(),isListViewOpen:n(),sidebarIsOpened:!!e(he).getActiveComplementaryArea(It.name),settings:r(),templateType:m,page:o(),template:d?c("postType",m,d):null,templateResolved:!!d&&i("getEntityRecord",["postType",m,d]),entityId:d,isNavigationOpen:s()}}),[]),{updateEditorSettings:h}=(0,c.useDispatch)(Pt.store),{setPage:v,setIsInserterOpened:y,updateSettings:b}=(0,c.useDispatch)(It),{enableComplementaryArea:S}=(0,c.useDispatch)(he);(0,o.useEffect)((()=>{b(e)}),[]);const{defaultTemplateTypes:w,defaultTemplatePartAreas:k}=l;(0,o.useEffect)((()=>{h({defaultTemplateTypes:w,defaultTemplatePartAreas:k})}),[w,k]);const[T,x]=(0,o.useState)(!1),I=(0,o.useCallback)((()=>x(!0)),[]),C=(0,o.useCallback)((()=>{x(!1)}),[]),P=(0,o.useMemo)((()=>({...null==m?void 0:m.context,queryContext:[(null==m?void 0:m.context.queryContext)||{page:1},e=>v({...m,context:{...null==m?void 0:m.context,queryContext:{...null==m?void 0:m.context.queryContext,...e}}})]})),[null==m?void 0:m.context]);(0,o.useEffect)((()=>{f?document.body.classList.add("is-navigation-sidebar-open"):document.body.classList.remove("is-navigation-sidebar-open")}),[f]),(0,o.useEffect)((function(){"open"===new URLSearchParams(window.location.search).get("styles")&&S("core/edit-site","edit-site/global-styles")}),[S]);const N=(null==l?void 0:l.siteUrl)&&void 0!==i&&void 0!==s;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(Zr,null),N&&(0,o.createElement)(Nt.ShortcutProvider,null,(0,o.createElement)(p.SlotFillProvider,null,(0,o.createElement)(u.EntityProvider,{kind:"root",type:"site"},(0,o.createElement)(u.EntityProvider,{kind:"postType",type:i,id:s},(0,o.createElement)(ma,null,(0,o.createElement)(Ct.BlockContextProvider,{value:P},(0,o.createElement)(oa,null),(0,o.createElement)(aa,{onError:t},(0,o.createElement)(Be,{isActive:!0}),(0,o.createElement)(Pt.UnsavedChangesWarning,null),(0,o.createElement)(Jr.Register,null),(0,o.createElement)(Lr,null),(0,o.createElement)(Le,{labels:da,secondarySidebar:n?(0,o.createElement)(ta,null):r?(0,o.createElement)(na,null):null,sidebar:a&&(0,o.createElement)(Ae.Slot,{scope:"core/edit-site"}),header:(0,o.createElement)(on,{openEntitiesSavedStates:I}),notices:(0,o.createElement)(Pt.EditorSnackbars,null),content:(0,o.createElement)(o.Fragment,null,(0,o.createElement)(Pt.EditorNotices,null),d&&(0,o.createElement)(Kr,{setIsInserterOpen:y}),g&&!d&&(null==l?void 0:l.siteUrl)&&s&&(0,o.createElement)(p.Notice,{status:"warning",isDismissible:!1},(0,_.__)("You attempted to edit an item that doesn't exist. Perhaps it was deleted?")),(0,o.createElement)(Jr,{openEntitiesSavedStates:I})),actions:(0,o.createElement)(o.Fragment,null,T?(0,o.createElement)(Pt.EntitiesSavedStates,{close:C}):(0,o.createElement)("div",{className:"edit-site-editor__toggle-save-panel"},(0,o.createElement)(p.Button,{variant:"secondary",className:"edit-site-editor__toggle-save-panel-button",onClick:I,"aria-expanded":!1},(0,_.__)("Open save panel")))),footer:(0,o.createElement)(Ct.BlockBreadcrumb,null)}),(0,o.createElement)(p.Popover.Slot,null),(0,o.createElement)(E.PluginArea,null)))))))))},_a=function({icon:e,isOpen:t}){const{isRequestingSiteIcon:n,navigationPanelMenu:r,siteIconUrl:a}=(0,c.useSelect)((e=>{const{getCurrentTemplateNavigationPanelSubMenu:t}=e(It),{getEntityRecord:n,isResolving:r}=e(u.store),a=n("root","__unstableBase",void 0)||{};return{isRequestingSiteIcon:r("core","getEntityRecord",["root","__unstableBase",void 0]),navigationPanelMenu:t(),siteIconUrl:a.site_icon_url}}),[]),{openNavigationPanelToMenu:l,setIsNavigationPanelOpened:s}=(0,c.useDispatch)(It),i=(0,Re.useReducedMotion)();let m=(0,o.createElement)(p.Icon,{size:"36px",icon:Bt});return a?m=(0,o.createElement)(p.__unstableMotion.img,{variants:!i&&{expand:{scale:1.7,borderRadius:0,transition:{type:"tween",duration:"0.2"}}},alt:(0,_.__)("Site Icon"),className:"edit-site-navigation-toggle__site-icon",src:a}):n?m=null:e&&(m=(0,o.createElement)(p.Icon,{size:"36px",icon:e})),(0,o.createElement)(p.__unstableMotion.div,{className:"edit-site-navigation-toggle"+(t?" is-open":""),whileHover:"expand"},(0,o.createElement)(p.Button,{className:"edit-site-navigation-toggle__button has-icon",label:(0,_.__)("Toggle navigation"),onClick:()=>{t?s(!1):l(r)},showTooltip:!0},m))};function Ea({className:e,...t}){return(0,o.createElement)(Ae,Y({panelClassName:e,className:"edit-site-sidebar",scope:"core/edit-site"},t))}function ga(e){return(0,o.createElement)(Te,Y({__unstableExplicitMenuItem:!0,scope:"core/edit-site"},e))}var fa=(0,Re.compose)((0,E.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,name:"core/edit-site/plugin-more-menu"}))))(we);function ha(e,t){(0,o.unmountComponentAtNode)(e);const n=ha.bind(null,e,t);(0,o.render)((0,o.createElement)(pa,{initialSettings:t,onError:n}),e)}function va(e,t){t.__experimentalFetchLinkSuggestions=(e,n)=>(0,u.__experimentalFetchLinkSuggestions)(e,n,t),t.__experimentalFetchRichUrlData=u.__experimentalFetchUrlData,t.__experimentalSpotlightEntityBlocks=["core/template-part"];const n=document.getElementById(e),r=ha.bind(null,n,t);(0,c.dispatch)(s.store).__experimentalReapplyBlockTypeFilters(),(0,i.registerCoreBlocks)(),(0,i.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:!0}),(0,o.render)((0,o.createElement)(pa,{initialSettings:t,onError:r}),n)}}(),(window.wp=window.wp||{}).editSite=r}();